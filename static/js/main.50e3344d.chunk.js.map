{"version":3,"sources":["constans/index.ts","store/slices/navigation.ts","api/BASE_URL.ts","api/request.ts","api/index.ts","api/games.ts","api/tournaments.ts","api/squads.ts","api/predictions.ts","api/user.ts","store/slices/tournaments.ts","store/slices/tournament.ts","store/slices/team.ts","store/slices/game.ts","store/slices/user.ts","store/slices/predictions.ts","store/rootReducer.ts","store/store.ts","components/Headers/PlainHeader.tsx","components/GamesList/index.tsx","components/Table/TableRow.tsx","utils/getGamesByTour.ts","panels/Tournament/index.tsx","panels/Team/index.tsx","components/Headers/GameHeader.tsx","components/GameInfoTabs/index.tsx","components/EventRow/index.tsx","components/Prediction/index.tsx","panels/Game/index.tsx","utils/nowLessThen.ts","panels/Tournaments/index.tsx","App.tsx","index.tsx"],"names":["TOURNAMENTS_PANEL","TOURNAMENT_PANEL","GAME_PANEL","TEAM_PANEL","initialState","activePanel","history","navigationSlice","createSlice","name","reducers","goForward","state","action","newPanel","payload","push","goBack","pop","length","actions","BASE_URL","process","request","url","a","fetch","res","json","getGames","gameId","getTournaments","getTournament","tournamentId","siteType","getSquads","clubId","getPredictionsByMatch","matchId","doPrediction","userId","prediction","method","body","JSON","stringify","headers","getUser","id","registerUser","requestTournaments","createAsyncThunk","api","tournamentsSlice","loading","error","cities","toggleCollapse","map","c","i","collapsed","extraReducers","builder","addCase","pending","rejected","fulfilled","city","requestTournament","tournamentSlice","activeTournamentName","activeTournamentCity","activeSiteType","activeVkHref","activeTournament","activeTab","setActiveTournament","vkHref","clearActiveTournament","setActiveTab","requestSquad","teamSlice","activeTeam","activeTeamSquad","teamHistory","setActiveTeam","clearActiveteam","goForwardToTeam","goBackToTeam","activeGameEvents","activeGameInfo","awayHref","awayLogo","awayName","date","homeHref","homeLogo","homeName","matchHref","place","score","time","tour","gameHistory","requestGame","gameSlice","setActiveGameInfo","clearActiveGame","goForwardToGame","goBackToGame","activeGame","events","sort","b","minute","requestUser","user","userSlice","addPrediction","predictions","requestPredictions","requestDoPrediction","predictionsSlice","predictionsInfo","clearPredictionsInfo","rootReducer","combineReducers","navigation","tournaments","tournament","team","game","store","configureStore","reducer","PlainHeader","logo","title","hrefs","style","display","mode","size","src","padding","margin","marginLeft","marginTop","color","fontSize","href","marginRight","GamesList","games","header","teamHref","onGoToGame","background","colors","win","draw","lose","split","s","home","away","disabled","before","after","description","TableRow","n","isHeader","isDark","photo","values","onClick","fontWeight","marginBottom","className","value","width","textAlign","getGamesByTours","calendar","data","forEach","TABS","TournamentPanel","dispatch","useDispatch","useSelector","goToGame","console","log","left","tab","selected","table","goToTeam","points","Object","entries","results","reverse","TeamPanel","filter","g","GameHeader","onGoToTeam","GameInfoTabs","refery","EventRow","isHome","playerName","eventType","Prediction","variants","onPrediction","userPrediction","canPredict","React","useState","activeVariant","setActiveVariant","flexDirection","variant","predict","over","under","toFixed","GamePanel","loadingPrediction","activeTeamTab","setActiveTeamTab","setUserPrediction","now","Date","d","m","y","h","min","getTime","nowLessThen","useEffect","includes","replace","find","p","req","abort","noInformation","squads","some","then","_","e","eventSymbol","type","player","GROUP_ID","GROUP_HREF","TournamentsPanel","IS_ANDROID","window","location","snackbar","setSnackbar","openSnackbar","text","backgroundColor","fill","height","onClose","separator","document","createElement","click","remove","justifyContent","alignItems","bridge","send","group_id","catch","err","paddingBottom","flex","transform","t","goToTournament","App","loadingTournaments","loadingTournament","loadingUser","userInfo","initApp","isWebView","onSwipeBack","currentPanel","setActiveTournamentTab","popout","Tournaments","Tournament","Game","Team","subscribe","detail","setAttribute","scheme","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.50e3344d.chunk.js","sourcesContent":["export const TOURNAMENTS_PANEL = 'tournaments'\r\nexport const TOURNAMENT_PANEL = 'tournament'\r\nexport const GAME_PANEL = 'game'\r\nexport const TEAM_PANEL = 'team'","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nimport { \r\n  GAME_PANEL, \r\n  TEAM_PANEL, \r\n  TOURNAMENTS_PANEL, \r\n  TOURNAMENT_PANEL \r\n} from \"../../constans\";\r\n\r\ntype Panel = \r\n  | typeof TOURNAMENTS_PANEL \r\n  | typeof TOURNAMENT_PANEL \r\n  | typeof GAME_PANEL \r\n  | typeof TEAM_PANEL\r\n\r\ninterface NavigationState\r\n{\r\n  activePanel : Panel\r\n  history : Panel[]\r\n}\r\n\r\nconst initialState : NavigationState = {\r\n  activePanel : TOURNAMENTS_PANEL,\r\n  history : [TOURNAMENTS_PANEL]\r\n}\r\n\r\nconst navigationSlice = createSlice({\r\n  name : 'navigation',\r\n  initialState,\r\n  reducers : {\r\n    goForward(state, action)\r\n    {\r\n      const newPanel = action.payload\r\n      state.activePanel = newPanel\r\n      state.history.push(newPanel)\r\n    },\r\n    goBack(state)\r\n    {\r\n      state.history.pop()\r\n      const newPanel = state.history[state.history.length - 1]\r\n      state.activePanel = newPanel!\r\n    },\r\n  }\r\n})\r\n\r\nexport const {goBack, goForward} = navigationSlice.actions\r\nexport default navigationSlice.reducer","export const BASE_URL = process.env.REACT_APP_SERVER_URL\r\n// export const BASE_URL = 'http://localhost:5000'","export const request = async (url : string) => {\r\n  const res = await fetch(url)\r\n  return res.json()\r\n}","import {getGames} from './games'\r\nimport {getTournaments, getTournament} from './tournaments'\r\nimport {getSquads} from './squads'\r\nimport {getPredictionsByMatch,doPrediction} from './predictions'\r\nimport {getUser, registerUser} from './user'\r\n\r\nexport default {\r\n  getGames,\r\n  getTournaments,\r\n  getTournament,\r\n  getSquads,\r\n  getPredictionsByMatch,\r\n  doPrediction,\r\n  getUser,\r\n  registerUser,\r\n}","import { BASE_URL } from \"./BASE_URL\"\r\nimport { request } from \"./request\"\r\n\r\nexport const getGames = async (gameId : number) => {\r\n  const url = `${BASE_URL}/games/${gameId}`\r\n\r\n  return await request(url)\r\n}","import { BASE_URL } from \"./BASE_URL\"\r\nimport { request } from \"./request\"\r\n\r\nexport const getTournaments = async () => {\r\n  const url = `${BASE_URL}/tournaments`\r\n\r\n  return await request(url)\r\n}\r\n\r\nexport const getTournament = async ({tournamentId,siteType} : {tournamentId : number, siteType : number}) => {\r\n  const url = `${BASE_URL}/tournaments/${tournamentId}/${siteType}`\r\n  return await request(url)\r\n}","import { BASE_URL } from \"./BASE_URL\"\r\nimport { request } from \"./request\"\r\n\r\nexport const getSquads = async ({tournamentId, clubId} : {tournamentId:string,clubId:string}) => {\r\n  const url = `${BASE_URL}/squads/${tournamentId}/${clubId}`\r\n\r\n  return await request(url)\r\n}","import { BASE_URL } from \"./BASE_URL\"\r\nimport { request } from \"./request\"\r\n\r\nexport const getPredictionsByMatch = async (matchId : number) => {\r\n  const url = `${BASE_URL}/predictions/${matchId}`\r\n\r\n  return await request(url)\r\n}\r\n\r\nexport const doPrediction = async ({\r\n  matchId, \r\n  userId,\r\n  prediction\r\n} : {\r\n  matchId:number,\r\n  userId:number,\r\n  prediction : 0 | 1\r\n}) => {\r\n  const url = `${BASE_URL}/predictions`\r\n\r\n  const res = await fetch(url,{\r\n    method : 'POST',\r\n    body : JSON.stringify({matchId, userId, prediction}),\r\n    headers : {'Content-Type': 'application/json;charset=utf-8'}\r\n  })\r\n\r\n  return res.json()\r\n}","import { BASE_URL } from \"./BASE_URL\"\r\nimport { request } from \"./request\"\r\n\r\nexport const getUser = async (id : number) => {\r\n  const url = `${BASE_URL}/users/${id}`\r\n\r\n  return await request(url)\r\n}\r\n\r\nexport const registerUser = async (id : number) => {\r\n  const url = `${BASE_URL}/users/${id}`\r\n\r\n  const res = await fetch(url,{\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json;charset=utf-8' }\r\n  })\r\n\r\n  return await res.json()\r\n}","import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\"\r\n\r\nimport api from \"../../api\"\r\n\r\nimport { CityInfo } from \"../../types/CityInfo\"\r\n\r\ninterface TournamentsState\r\n{\r\n  loading : boolean\r\n  error : boolean\r\n  cities : (CityInfo & {collapsed : boolean})[]\r\n}\r\n\r\nconst initialState : TournamentsState = {\r\n  loading : false,\r\n  error : false,\r\n  cities : []\r\n}\r\n\r\nexport const requestTournaments = createAsyncThunk('tournaments/request', api.getTournaments)\r\n\r\nconst tournamentsSlice = createSlice({\r\n  name : 'tournaments',\r\n  initialState,\r\n  reducers : {\r\n    toggleCollapse(state,action)\r\n    {\r\n      state.cities = state.cities.map((c,i) => {\r\n        if(i === action.payload)\r\n        {\r\n          return {...c, collapsed : !c.collapsed}\r\n        }\r\n\r\n        return c\r\n      })\r\n    },\r\n  },\r\n  extraReducers(builder)\r\n  {\r\n    builder\r\n      .addCase(requestTournaments.pending, state => {\r\n        state.loading = true\r\n        state.error = false\r\n      })\r\n      .addCase(requestTournaments.rejected, state => {\r\n        state.loading = false\r\n        state.error = true\r\n      })\r\n      .addCase(requestTournaments.fulfilled, (state, action) => {\r\n        state.loading = false\r\n        state.error = false\r\n        state.cities = (action.payload as CityInfo[]).map(city => ({...city, collapsed : true}))\r\n      })\r\n  },\r\n})\r\n\r\nexport const {toggleCollapse} = tournamentsSlice.actions\r\nexport default tournamentsSlice.reducer","import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\nimport api from \"../../api\";\r\n\r\nimport { TournamentInfo } from \"../../types/TournamentInfo\";\r\n\r\ninterface TournamentState\r\n{\r\n  activeTournamentName : string\r\n  activeTournamentCity : string\r\n  activeSiteType : number\r\n  activeVkHref : string\r\n  activeTournament : TournamentInfo | null\r\n  activeTab : number\r\n\r\n  loading : boolean\r\n  error : boolean\r\n}\r\n\r\nconst initialState : TournamentState = {\r\n  loading : false,\r\n  error : false,\r\n\r\n  activeTournamentName : '',\r\n  activeTournamentCity : '',\r\n  activeSiteType : 0,\r\n  activeVkHref : '',\r\n  activeTournament : null,\r\n  activeTab : 0\r\n}\r\n\r\nexport const requestTournament = createAsyncThunk('tournament/request', api.getTournament)\r\n\r\nconst tournamentSlice = createSlice({\r\n  name : 'tournament',\r\n  initialState,\r\n  reducers : {\r\n    setActiveTournament(state,action)\r\n    {\r\n      const activeTournament = action.payload\r\n      state.activeTournamentName = activeTournament.name\r\n      // state.activeTournament = activeTournament.data\r\n      state.activeSiteType = activeTournament.siteType\r\n      state.activeVkHref = activeTournament.vkHref\r\n      state.activeTournamentCity = activeTournament.city\r\n    },\r\n    clearActiveTournament(state)\r\n    {\r\n      state.activeTournament = null\r\n      state.activeTournamentName = ''\r\n    },\r\n    setActiveTab(state,action)\r\n    {\r\n      state.activeTab = action.payload\r\n    },\r\n  },\r\n  extraReducers(builder)\r\n  {\r\n    builder\r\n      .addCase(requestTournament.pending, state => {\r\n        state.loading = true\r\n        state.error = false\r\n      })\r\n      .addCase(requestTournament.rejected, state => {\r\n        state.loading = false\r\n        state.error = true\r\n      })\r\n      .addCase(requestTournament.fulfilled, (state, action) => {\r\n        state.loading = false\r\n        state.error = false\r\n\r\n        const activeTournament = action.payload\r\n        state.activeTournament = activeTournament\r\n      })\r\n  },\r\n})\r\n\r\nexport const {\r\n  clearActiveTournament,\r\n  setActiveTournament,\r\n  setActiveTab,\r\n} = tournamentSlice.actions\r\nexport default tournamentSlice.reducer","import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\"\r\n\r\nimport api from \"../../api\"\r\n\r\nimport { ClubInfo } from \"../../types/ClubInfo\"\r\nimport { SquadInfo } from \"../../types/SquadInfo\"\r\n\r\ninterface TeamState\r\n{\r\n  loading : boolean\r\n  error : boolean\r\n  activeTeamSquad : SquadInfo[]\r\n  activeTab : number\r\n  \r\n  activeTeam : ClubInfo | null\r\n  teamHistory : ClubInfo[]\r\n}\r\n\r\nconst initialState : TeamState = {\r\n  loading : false,\r\n  error : false,\r\n  activeTeam : null,\r\n  activeTeamSquad: [],\r\n  teamHistory : [],\r\n  activeTab : 0,\r\n}\r\n\r\nexport const requestSquad = createAsyncThunk(\r\n  'squad/request',\r\n  ({ tournamentId,clubId }: { tournamentId: string, clubId: string}) => {\r\n    return api.getSquads({tournamentId,clubId})\r\n  }\r\n)\r\n\r\nconst teamSlice = createSlice({\r\n  name : 'team',\r\n  initialState,\r\n  reducers : {\r\n    setActiveTeam(state,action)\r\n    {\r\n      state.activeTeam = action.payload\r\n    },\r\n    clearActiveteam(state)\r\n    {\r\n      state.activeTeam = null\r\n      state.activeTeamSquad = []\r\n    },\r\n    goForwardToTeam(state)\r\n    {\r\n      state.teamHistory.push(state.activeTeam!)\r\n    },\r\n    goBackToTeam(state)\r\n    {\r\n      if(state.teamHistory.length === 0) return\r\n\r\n      const activeTeam = state.teamHistory.pop()!\r\n      state.activeTeam = activeTeam\r\n    },\r\n    setActiveTab(state,action)\r\n    {\r\n      state.activeTab = action.payload\r\n    },\r\n  },\r\n  extraReducers(builder)\r\n  {\r\n    builder\r\n      .addCase(requestSquad.pending, state => {\r\n        state.loading = true\r\n        state.error = false\r\n      })\r\n      .addCase(requestSquad.rejected, state => {\r\n        state.loading = false\r\n        state.error = true\r\n      })\r\n      .addCase(requestSquad.fulfilled, (state, action) => {\r\n        state.loading = false\r\n        state.error = false\r\n\r\n        const activeTeamSquad = action.payload\r\n        state.activeTeamSquad = activeTeamSquad\r\n      })\r\n  },\r\n})\r\n\r\nexport const {\r\n  clearActiveteam,\r\n  setActiveTeam,\r\n  setActiveTab,\r\n\r\n  goForwardToTeam,\r\n  goBackToTeam,\r\n} = teamSlice.actions\r\nexport default teamSlice.reducer","import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\"\r\nimport api from \"../../api\"\r\nimport { GameEvents } from \"../../types/GameEvents\"\r\nimport { GameInfo } from \"../../types/GameInfo\"\r\n\r\n\r\n\r\ninterface GameHistoryRecord\r\n{\r\n  activeGameInfo : GameInfo\r\n  activeGameEvents : GameEvents | null  \r\n}\r\n\r\ninterface GameState\r\n{\r\n  loading : boolean\r\n  error : boolean\r\n  activeGameInfo : GameInfo\r\n  activeGameEvents : GameEvents | null\r\n  gameHistory : GameHistoryRecord[]\r\n}\r\n\r\nconst initialState : GameState = {\r\n  loading : false,\r\n  error : false,\r\n  activeGameEvents : null,\r\n  activeGameInfo : {\r\n    awayHref: \"\",\r\n    awayLogo: \"\",\r\n    awayName: \"\",\r\n    date: \"-\",\r\n    homeHref: \"\",\r\n    homeLogo: \"\",\r\n    homeName: \"\",\r\n    matchHref: \"\",\r\n    place: \"-\",\r\n    score: \"-:-\",\r\n    time: \"-\",\r\n    tour: 1,\r\n  },\r\n  gameHistory : [],\r\n}\r\n\r\nexport const requestGame = createAsyncThunk(\r\n  'game/request',\r\n  (gameId : number) => api.getGames(gameId)\r\n)\r\n\r\nconst gameSlice = createSlice({\r\n  name : 'game',\r\n  initialState,\r\n  reducers : {\r\n    setActiveGameInfo(state,action)\r\n    {\r\n      state.activeGameInfo = action.payload\r\n    },\r\n    clearActiveGame(state)\r\n    {\r\n      state.activeGameInfo = initialState.activeGameInfo\r\n      state.activeGameEvents = null\r\n    },\r\n    goForwardToGame(state)\r\n    {\r\n      state.gameHistory.push({\r\n        activeGameEvents : state.activeGameEvents,\r\n        activeGameInfo : state.activeGameInfo,\r\n      })\r\n    },\r\n    goBackToGame(state)\r\n    {\r\n      if(state.gameHistory.length === 0) return\r\n      \r\n      const activeGame = state.gameHistory.pop()!\r\n\r\n      state.activeGameEvents = activeGame.activeGameEvents\r\n      state.activeGameInfo = activeGame.activeGameInfo\r\n    },\r\n  },\r\n  extraReducers(builder)\r\n  {\r\n    builder\r\n      .addCase(requestGame.pending, state => {\r\n        state.loading = true\r\n        state.error = false\r\n      })\r\n      .addCase(requestGame.rejected, state => {\r\n        state.loading = false\r\n        state.error = true\r\n      })\r\n      .addCase(requestGame.fulfilled, (state, action) => {\r\n        state.loading = false\r\n        state.error = false\r\n\r\n        const activeGameEvents = action.payload\r\n        state.activeGameEvents = activeGameEvents\r\n        state.activeGameEvents!.events.sort((a,b) => a.minute - b.minute)\r\n      })\r\n  },\r\n})\r\n\r\nexport const {\r\n  setActiveGameInfo,\r\n  goBackToGame,\r\n  goForwardToGame,\r\n  clearActiveGame,\r\n} = gameSlice.actions\r\nexport default gameSlice.reducer","import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\"\r\n\r\nimport api from \"../../api\"\r\n\r\nimport { User } from \"../../types/User\"\r\n\r\ninterface UserState\r\n{\r\n  loading : boolean\r\n  error : boolean\r\n  user : User | null\r\n}\r\n\r\nconst initialState : UserState = {\r\n  loading : false,\r\n  error : false,\r\n  user : null\r\n}\r\n\r\nexport const requestUser = createAsyncThunk(\r\n  'user/request',\r\n  async (userId : number) => {\r\n    const user = await api.getUser(userId)\r\n    if(user) return user\r\n\r\n    const res = await api.registerUser(userId)\r\n    return res\r\n  }\r\n)\r\n\r\nconst userSlice = createSlice({\r\n  name : 'user',\r\n  initialState,\r\n  reducers : {\r\n    addPrediction(state,action)\r\n    {\r\n      state.user!.predictions.push(action.payload)\r\n    },\r\n  },\r\n  extraReducers(builder)\r\n  {\r\n    builder\r\n      .addCase(requestUser.pending, state => {\r\n        state.loading = true\r\n        state.error = false\r\n      })\r\n      .addCase(requestUser.rejected, state => {\r\n        state.loading = false\r\n        state.error = true\r\n      })\r\n      .addCase(requestUser.fulfilled, (state, action) => {\r\n        state.loading = false\r\n        state.error = false\r\n        state.user = action.payload\r\n      })\r\n  },\r\n})\r\n\r\nexport const { addPrediction } = userSlice.actions\r\nexport default userSlice.reducer","import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\"\r\n\r\nimport api from \"../../api\"\r\n\r\nimport { PredictionInfo } from \"../../types/PredictionInfo\"\r\n\r\ninterface PredictionsState\r\n{\r\n  loading : boolean\r\n  error : boolean\r\n  predictionsInfo : PredictionInfo | null\r\n}\r\n\r\nconst initialState : PredictionsState = {\r\n  loading : false,\r\n  error : false,\r\n  predictionsInfo : null\r\n}\r\n\r\nexport const requestPredictions = createAsyncThunk(\r\n  'predictions/get',\r\n  (matchId : number) => api.getPredictionsByMatch(matchId)\r\n)\r\n\r\nexport const requestDoPrediction = createAsyncThunk(\r\n  'predictions/do',\r\n  ({ matchId, userId, prediction }: { matchId: number, userId: number, prediction : 0 | 1 }) => {\r\n    return api.doPrediction({ matchId, userId, prediction })\r\n  }\r\n)\r\n\r\nconst predictionsSlice = createSlice({\r\n  name : 'predictions',\r\n  initialState,\r\n  reducers : {\r\n    clearPredictionsInfo(state)\r\n    {\r\n      state.predictionsInfo = null\r\n    },\r\n  },\r\n  extraReducers(builder)\r\n  {\r\n    builder\r\n      .addCase(requestPredictions.pending, state => {\r\n        state.loading = true\r\n        state.error = false\r\n      })\r\n      .addCase(requestPredictions.rejected, state => {\r\n        state.loading = false\r\n        state.error = true\r\n      })\r\n      .addCase(requestPredictions.fulfilled, (state, action) => {\r\n        state.loading = false\r\n        state.error = false\r\n        state.predictionsInfo = action.payload\r\n      })\r\n\r\n      .addCase(requestDoPrediction.pending, state => {\r\n        state.loading = true\r\n        state.error = false\r\n      })\r\n      .addCase(requestDoPrediction.rejected, state => {\r\n        state.loading = false\r\n        state.error = true\r\n      })\r\n      .addCase(requestDoPrediction.fulfilled, (state, action) => {\r\n        state.loading = false\r\n        state.error = false\r\n      })\r\n  },\r\n})\r\n\r\nexport const {clearPredictionsInfo} = predictionsSlice.actions\r\nexport default predictionsSlice.reducer","import { combineReducers } from \"@reduxjs/toolkit\"\r\n\r\nimport navigation from './slices/navigation'\r\nimport tournaments from './slices/tournaments'\r\nimport tournament from './slices/tournament'\r\nimport team from './slices/team'\r\nimport game from './slices/game'\r\nimport user from './slices/user'\r\nimport predictions from './slices/predictions'\r\n\r\nconst rootReducer = combineReducers({\r\n  navigation,\r\n  tournaments,\r\n  tournament,\r\n  team,\r\n  game,\r\n  user,\r\n  predictions,\r\n})\r\n\r\nexport type RootState = ReturnType<typeof rootReducer>\r\nexport default rootReducer","import { configureStore } from \"@reduxjs/toolkit\"\r\nimport { useDispatch } from \"react-redux\"\r\n\r\nimport rootReducer from './rootReducer'\r\n\r\nconst store = configureStore({ reducer: rootReducer })\r\n\r\nexport const useAppDispatch = () => useDispatch<typeof store.dispatch>()\r\nexport default store","import React from 'react';\r\n\r\nimport {Avatar, Div, Link} from '@vkontakte/vkui';\r\nimport { Icon24Globe } from '@vkontakte/icons';\r\n\r\ninterface PlainHeaderProps\r\n{\r\n  logo ?: string\r\n  title : string\r\n  league ?: string\r\n  city : string\r\n  hrefs ?: string[]\r\n}\r\n\r\nconst PlainHeader : React.FC<PlainHeaderProps> = ({\r\n  logo,\r\n  title,\r\n  city,\r\n  hrefs,\r\n}) => {\r\n  return(\r\n    <Div style={{display:'flex'}}>\r\n      {logo && <Avatar mode=\"image\" size={74} src={logo}/>}\r\n      <div>\r\n        <h3 style={{padding:0, margin:0, marginLeft: logo ? 8 : 0}}>{title}</h3>\r\n        <h5 style={{padding:0, margin:0,marginTop:4,marginLeft: logo ? 8 : 0,color:'gray'}}>{city}</h5>\r\n        {hrefs &&\r\n          <div style={{fontSize:14,marginTop:4}}>\r\n            {hrefs.map((href,i) => {\r\n              return href && <Link key={i} style={{marginRight:4}} href={href}>\r\n                {['Сайт','Группа'][i]}\r\n              </Link>\r\n            })}\r\n          </div>\r\n        }\r\n      </div>\r\n\r\n    </Div>\r\n  )\r\n}\r\n\r\nexport default PlainHeader","import React from 'react';\r\n\r\nimport {\r\n  Group, \r\n  Avatar, \r\n  Cell, \r\n  Header, \r\n  Counter,\r\n} from '@vkontakte/vkui';\r\n\r\nimport { GameInfo } from '../../types/GameInfo';\r\n\r\ninterface GamesListProps\r\n{\r\n  games : GameInfo[]\r\n  header ?: string\r\n  teamHref ?: string\r\n  onGoToGame ?: (game : GameInfo) => void\r\n}\r\n\r\nconst GamesList : React.FC<GamesListProps> = ({\r\n  games,\r\n  header,\r\n  teamHref,\r\n  onGoToGame,\r\n}) => {\r\n  return(\r\n    <Group\r\n      header={header && <Header>{header}</Header>}\r\n    >\r\n      {games.map((game,i) => {\r\n        let background = ''\r\n        if(teamHref)\r\n        {\r\n          const colors = {\r\n            win:'var(--button_commerce_background)',\r\n            draw:'orange',\r\n            lose:'var(--button_secondary_destructive_foreground)'\r\n          }\r\n          const [home, away] = game.score.split(':').map(s=>+s)\r\n\r\n          if(home > away)\r\n            background = teamHref === game.homeHref ? colors.win : colors.lose\r\n          else if(home < away)\r\n            background = teamHref === game.homeHref ? colors.lose : colors.win\r\n          else\r\n            background = colors.draw\r\n        }\r\n\r\n        return <Cell\r\n          // disabled={!onGoToGame || (game.date === '-' && !game.score)}\r\n          disabled={true}\r\n          key={i}\r\n          before={<div style={{display:'flex',marginRight:8,}}>\r\n            <Avatar mode=\"image\" src={game.homeLogo}/>\r\n            <Avatar mode=\"image\" src={game.awayLogo}/>\r\n          </div>}\r\n          after={game.score && <Counter mode=\"primary\" style={{padding:4,background}}>{game.score}</Counter>}\r\n          description={game.date !== '-' && \r\n            <div>\r\n              <div>{game.date}, {game.time}</div>\r\n              {game.place !== '-' && <div>{game.place}</div>}\r\n            </div>\r\n          }\r\n          // onClick={() => onGoToGame && onGoToGame(game)}\r\n        ><div><div>{game.homeName}</div><div>{game.awayName}</div></div></Cell>\r\n      })}\r\n    </Group>\r\n  )\r\n}\r\n\r\nexport default GamesList","import React from 'react';\r\nimport './Table.sass';\r\n\r\nimport {Avatar, Cell} from '@vkontakte/vkui';\r\n\r\ninterface TableRowProps\r\n{\r\n  title : string\r\n  n ?: number\r\n  description ?: string\r\n  isHeader ?: boolean\r\n  isDark ?: boolean\r\n  colors : string[]\r\n  values : string[]\r\n  photo ?: string\r\n  onClick ?: () => void\r\n}\r\n\r\nconst TableRow : React.FC<TableRowProps> = ({\r\n  n,\r\n  isHeader,\r\n  isDark,\r\n  photo,\r\n  colors,\r\n  values,\r\n  title,\r\n  description,\r\n  onClick,\r\n}) => {\r\n  return(\r\n    <Cell\r\n      style={{\r\n        fontWeight: isHeader ? 'bold' : 'normal',\r\n        background : isDark ? 'var(--background_keyboard)' : '',\r\n        marginBottom : 4,\r\n      }}\r\n      before={photo &&\r\n        <div className=\"photo\">\r\n          {n && <div className=\"photo__place\">{n}</div>}\r\n          <Avatar mode=\"image\" src={photo}/>\r\n        </div>\r\n      }\r\n      after={<div style={{padding:4,display:'flex',}}>\r\n        {values.map((value, i) => {\r\n          return <div\r\n            key={i}\r\n            style={{color:colors[i], marginRight:4, width:14, textAlign:'center', fontSize:14}}\r\n          >{value}</div>\r\n        })}\r\n        </div>}\r\n      disabled={!onClick}\r\n      onClick={onClick}\r\n      description={description}\r\n    >{title}</Cell>\r\n  )\r\n}\r\n\r\nexport default TableRow","import { GameInfo } from \"../types/GameInfo\";\r\n\r\nexport const getGamesByTours =  (calendar : GameInfo[]) : {[tour : string] : GameInfo[]} => {\r\n  const data : {[tour : string] : GameInfo[]} = {}\r\n\r\n  calendar.forEach(game => {\r\n    if(!data[game.tour])\r\n    {\r\n      data[game.tour] = []\r\n    }\r\n\r\n    data[game.tour].push(game)\r\n  })\r\n\r\n  return data\r\n}","import React from 'react';\r\n\r\nimport {\r\n  Cell,\r\n  HorizontalScroll, \r\n  List, \r\n  Panel, \r\n  PanelHeader, \r\n  PanelHeaderBack, \r\n  Tabs, \r\n  TabsItem\r\n} from '@vkontakte/vkui';\r\n\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { goBack, goForward } from '../../store/slices/navigation';\r\nimport { RootState } from '../../store/rootReducer';\r\nimport { clearActiveTournament, setActiveTab } from '../../store/slices/tournament';\r\nimport { requestSquad, setActiveTeam} from '../../store/slices/team';\r\nimport { setActiveGameInfo } from '../../store/slices/game';\r\n\r\nimport PlainHeader from '../../components/Headers/PlainHeader';\r\nimport GamesList from '../../components/GamesList';\r\nimport TableRow from '../../components/Table/TableRow';\r\n\r\nimport { GameInfo } from '../../types/GameInfo';\r\nimport { ClubInfo } from '../../types/ClubInfo';\r\n\r\nimport { getGamesByTours } from '../../utils/getGamesByTour';\r\nimport { GAME_PANEL, TEAM_PANEL } from '../../constans';\r\n\r\ninterface TournamentPanelProps\r\n{\r\n  id : string\r\n}\r\n\r\nconst TABS = [ 'Таблица', 'Расписание', 'Результаты']\r\n\r\nconst TournamentPanel : React.FC<TournamentPanelProps> = ({\r\n  id,\r\n}) => {\r\n  const dispatch = useDispatch()\r\n  const {activeTournament,activeTournamentName,activeTournamentCity,activeTab,activeSiteType,activeVkHref} = useSelector((s:RootState) => s.tournament)\r\n\r\n  const goToTeam = (team : ClubInfo) => {\r\n    dispatch(setActiveTeam(team))\r\n    dispatch(goForward(TEAM_PANEL))\r\n  }\r\n\r\n  const goToGame = (game : GameInfo) => {\r\n    console.log(game)\r\n    if(game.date === '-' && !game.score) return\r\n    \r\n    dispatch(setActiveGameInfo(game))\r\n    dispatch(goForward(GAME_PANEL))\r\n  }\r\n\r\n  const goToTournaments = () => {\r\n    dispatch(goBack())\r\n    dispatch(clearActiveTournament())\r\n    dispatch(setActiveTab(0))\r\n  }\r\n\r\n  return(\r\n    <Panel id={id}>\r\n      <PanelHeader\r\n        left={<PanelHeaderBack onClick={goToTournaments} />}\r\n      >Турнир</PanelHeader>\r\n      \r\n      <PlainHeader\r\n        hrefs={[\r\n          activeSiteType === 0\r\n            ? `https://lfl.ru/tournament${activeTournament?.tournamentId}`\r\n            : `https://www.goalstream.org/season/${activeTournament?.tournamentId}`,\r\n          activeVkHref\r\n        ]}\r\n        title={activeTournamentName}\r\n        city={activeTournamentCity}\r\n      />\r\n      <HorizontalScroll>\r\n        <Tabs mode=\"buttons\">\r\n          {TABS.map((tab,i) => {\r\n            return <TabsItem\r\n              key={i}\r\n              selected={activeTab === i}\r\n              onClick={() => dispatch(setActiveTab(i))}\r\n            >{tab}</TabsItem>\r\n          })}\r\n        </Tabs>\r\n      </HorizontalScroll>\r\n\r\n      \r\n      {activeTab === 0 && activeTournament &&\r\n        <List>\r\n          <TableRow\r\n            isHeader={true}\r\n            title={'Команда'}\r\n            values={['И','В','Н','П','О']}\r\n            colors={['','green','orange','red']}\r\n          />\r\n          {\r\n            activeTournament.table.map((team,i) => {\r\n              if(team.title === '') return\r\n\r\n              return team.title\r\n                ? <Cell\r\n                    key={i}\r\n                    disabled\r\n                    style={{fontWeight:'bold'}}\r\n                  >{team.title}</Cell>\r\n                : <TableRow\r\n                    key={i}\r\n                    n={team.place}\r\n                    title={team.name}\r\n                    photo={team.logo}\r\n                    onClick={() => goToTeam(team)}\r\n                    values={[team.win+team.draw+team.lose,team.win,team.draw,team.lose,team.points].map(n=>''+n)}\r\n                    colors={['','green','orange','red']}\r\n                    isDark={i % 2 === 0}\r\n                  />\r\n            })\r\n          }\r\n        </List>\r\n      }\r\n\r\n      {activeTab === 1 && activeTournament &&\r\n        Object.entries(getGamesByTours(activeTournament.calendar))\r\n          .map(([tour, games],i) => {\r\n            return <GamesList\r\n              key={i}\r\n              header={`${tour} ТУР`}\r\n              games={games}\r\n              onGoToGame={goToGame} // !!!!\r\n            />\r\n          })\r\n      }\r\n\r\n      {activeTab === 2 && activeTournament &&\r\n        Object.entries(getGamesByTours(activeTournament.results)).reverse()\r\n          .map(([tour, games],i) => {\r\n            return <GamesList\r\n              key={i}\r\n              header={`${tour} ТУР`}\r\n              games={games}\r\n              onGoToGame={goToGame}\r\n            />\r\n          })\r\n      }\r\n\r\n      {/* {activeTab === 3 && activeTournament &&\r\n        <List>\r\n          <TableRow\r\n              isHeader={true}\r\n              title={'Игрок'}\r\n              values={['Г']}\r\n              colors={[]}\r\n            />\r\n          {\r\n            activeTournament.strikers.map((player,i) => {\r\n              return <TableRow\r\n                key={i}\r\n                n={i+1}\r\n                title={player.playerName}\r\n                photo={player.playerPhoto}\r\n                description={player.teamName}\r\n                values={[''+player.points]}\r\n                colors={[]}\r\n                isDark={i % 2 === 0}\r\n              />\r\n            })\r\n          }\r\n        </List>\r\n      }\r\n\r\n      {activeTab === 4 && activeTournament &&\r\n        <List>\r\n          <TableRow\r\n              isHeader={true}\r\n              title={'Игрок'}\r\n              values={['А']}\r\n              colors={[]}\r\n            />\r\n          {\r\n            activeTournament.assistents.map((player,i) => {\r\n              return <TableRow\r\n                key={i}\r\n                n={i+1}\r\n                title={player.playerName}\r\n                photo={player.playerPhoto}\r\n                description={player.teamName}\r\n                values={[''+player.points]}\r\n                colors={[]}\r\n                isDark={i % 2 === 0}\r\n              />\r\n            })\r\n          }\r\n        </List>\r\n      } */}\r\n\r\n\r\n    </Panel>\r\n  )\r\n}\r\n\r\nexport default TournamentPanel","import React from 'react';\r\n\r\n\r\nimport {\r\n  Div,\r\n  Group,\r\n  HorizontalScroll,\r\n  Panel,\r\n  PanelHeader,\r\n  PanelHeaderBack,\r\n  Spinner,\r\n  Tabs,\r\n  TabsItem\r\n} from '@vkontakte/vkui';\r\n\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { goBack, goForward } from '../../store/slices/navigation';\r\nimport { RootState } from '../../store/rootReducer';\r\nimport { clearActiveteam, goForwardToTeam,setActiveTab } from '../../store/slices/team';\r\nimport { goBackToGame, setActiveGameInfo } from '../../store/slices/game';\r\n\r\nimport PlainHeader from '../../components/Headers/PlainHeader';\r\nimport GamesList from '../../components/GamesList';\r\nimport TableRow from '../../components/Table/TableRow';\r\n\r\nimport { GameInfo } from '../../types/GameInfo';\r\n\r\nimport { GAME_PANEL } from '../../constans';\r\n\r\ninterface TeamPanelProps\r\n{\r\n  id : string\r\n}\r\n\r\n// const TABS = [ 'Расписание', 'Результаты', 'Состав' ]\r\nconst TABS = [ 'Расписание', 'Результаты']\r\n\r\nconst TeamPanel : React.FC<TeamPanelProps> = ({\r\n  id,\r\n}) => {\r\n  const dispatch = useDispatch()\r\n  const { activeTeamSquad, loading, activeTeam, activeTab } = useSelector((s:RootState) => s.team)\r\n  const {history} = useSelector((s:RootState) => s.navigation)\r\n  const {activeTournament,activeTournamentCity,activeTournamentName} = useSelector((s:RootState) => s.tournament)\r\n\r\n  const goToBack = () => {\r\n    const isToGame = history[history.length-2] === 'game'\r\n    if(isToGame) dispatch(goBackToGame())\r\n\r\n    dispatch(goBack())\r\n    dispatch(clearActiveteam())\r\n  }\r\n\r\n  const goToGame = (game : GameInfo) => {\r\n    if(game.date === '-' && !game.score) return\r\n\r\n    dispatch(goForwardToTeam())\r\n    dispatch(setActiveGameInfo(game))\r\n    dispatch(goForward(GAME_PANEL))\r\n  }\r\n\r\n  return(\r\n    <Panel id={id}>\r\n      <PanelHeader\r\n        left={<PanelHeaderBack onClick={goToBack} />}\r\n      >Команда</PanelHeader>\r\n\r\n      {activeTeam && <>\r\n        <PlainHeader\r\n          logo={activeTeam.logo}\r\n          title={activeTeam.name}\r\n          city={activeTournamentCity}\r\n        />\r\n        <HorizontalScroll>\r\n          <Tabs mode=\"buttons\">\r\n            {TABS.map((tab,i) => {\r\n              return <TabsItem\r\n                key={i}\r\n                selected={activeTab === i}\r\n                onClick={() => dispatch(setActiveTab(i))}\r\n              >{tab}</TabsItem>\r\n            })}\r\n          </Tabs>\r\n        </HorizontalScroll>\r\n      </>}\r\n\r\n      \r\n      {activeTab === 0 && activeTeam &&\r\n        <GamesList\r\n          games={activeTournament!.calendar.filter(g => g.homeHref === activeTeam.href || g.awayHref === activeTeam.href )}\r\n          onGoToGame={goToGame}\r\n        />\r\n      }\r\n\r\n      {activeTab === 1 && activeTeam &&\r\n        <GamesList\r\n          teamHref={activeTeam.href}\r\n          games={activeTournament!.results.filter(g => g.homeHref === activeTeam.href || g.awayHref === activeTeam.href )}\r\n          onGoToGame={goToGame}\r\n        />\r\n      }\r\n\r\n      {/* {activeTab === 2 && activeTeam &&\r\n        <Group>\r\n          <TableRow\r\n            isHeader={true}\r\n            title={'Игрок'}\r\n            values={['И', 'Г','А','Ж','К']}\r\n            colors={['','green','gray','orange','red']}\r\n          />\r\n          {\r\n            loading\r\n              ? <Div><Spinner/></Div>\r\n              : activeTeamSquad.map((player,i) => {\r\n                return <TableRow\r\n                  key={i}\r\n                  title={player.playerName}\r\n                  photo={player.playerPhoto}\r\n                  description={player.amplua}\r\n                  values={[player.games,player.goals,player.assists,player.yc,player.rc].map(n=>''+n)}\r\n                  colors={['','green','gray','orange','red']}\r\n                  isDark={i % 2 === 0}\r\n                />\r\n              })\r\n          }\r\n        </Group>\r\n      } */}\r\n    </Panel>\r\n  )\r\n}\r\n\r\nexport default TeamPanel","import React from 'react';\r\nimport './Headers.sass'\r\n\r\nimport {Avatar, Div} from '@vkontakte/vkui';\r\nimport { ClubInfo } from '../../types/ClubInfo';\r\n\r\ninterface Team\r\n{\r\n  logo : string\r\n  href : string\r\n  name : string\r\n}\r\n\r\ninterface GameHeaderProps\r\n{\r\n  home : Team\r\n  away : Team\r\n  score : string\r\n  onGoToTeam : (team : ClubInfo) => void\r\n}\r\n\r\nconst GameHeader : React.FC<GameHeaderProps> = ({\r\n  home,\r\n  away,\r\n  score,\r\n  onGoToTeam,\r\n}) => {\r\n  const goToTeam = (team : Team) => onGoToTeam(team as ClubInfo)\r\n\r\n  return(\r\n    <Div className=\"game-header__container\">\r\n      <div className=\"game-header__item\"\r\n        onClick={() => goToTeam(home)}\r\n      >\r\n        <Avatar size={82} mode=\"image\" src={home.logo} />\r\n        <div style={{textAlign:'center'}}>{home.name}</div>\r\n      </div>\r\n      <div className=\"game-header__item\">{score}</div>\r\n      <div className=\"game-header__item\"\r\n        onClick={() => goToTeam(away)}\r\n      >\r\n        <Avatar size={82} mode=\"image\" src={away.logo} />\r\n        <div style={{textAlign:'center'}}>{away.name}</div>\r\n      </div>\r\n    </Div>\r\n  )\r\n}\r\n\r\nexport default GameHeader","import React from 'react';\r\nimport './GameInfoTabs.sass'\r\n\r\nimport {HorizontalScroll, Tabs, TabsItem} from '@vkontakte/vkui';\r\nimport { Icon28GlobeOutline, Icon28AdvertisingOutline, Icon28CalendarOutline } from '@vkontakte/icons';\r\ninterface GameInfoTabsProps\r\n{\r\n  date : string | null\r\n  refery : string | null\r\n  place : string | null\r\n}\r\n\r\nconst GameInfoTabs : React.FC<GameInfoTabsProps> = ({\r\n  date,\r\n  refery,\r\n  place,\r\n}) => {\r\n  return(\r\n    <HorizontalScroll>\r\n      <Tabs mode=\"buttons\">\r\n        {date && \r\n          <TabsItem selected={true} className=\"game-info__item\">\r\n            <Icon28CalendarOutline/><div>{date}</div>\r\n          </TabsItem>\r\n        }\r\n        {place && \r\n          <TabsItem selected={true} className=\"game-info__item\">\r\n            <Icon28GlobeOutline/><div>{place}</div>\r\n          </TabsItem>\r\n        }\r\n        {refery && \r\n          <TabsItem selected={true} className=\"game-info__item\">\r\n            <Icon28AdvertisingOutline/><div>{refery}</div>\r\n          </TabsItem>\r\n        }\r\n      </Tabs>\r\n    </HorizontalScroll>\r\n  )\r\n}\r\n\r\nexport default GameInfoTabs","import React from 'react';\r\nimport './EventRow.sass'\r\n\r\ninterface EventRowProps\r\n{\r\n  isHome : boolean\r\n  playerName : string\r\n  eventType : string\r\n  minute : number\r\n}\r\n\r\nconst EventRow : React.FC<EventRowProps> = ({\r\n  isHome,\r\n  playerName,\r\n  eventType,\r\n  minute,\r\n}) => {\r\n  return(\r\n    <div className=\"events__row\">\r\n      <div className=\"events__player\">{minute !== 0 && !isHome ? minute : ''}{isHome && playerName}</div>\r\n      <div className=\"events__type\">{eventType}</div>\r\n      <div className=\"events__player\">{!isHome && playerName}{minute !== 0 && isHome ? minute : ''}</div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default EventRow","import React from 'react';\r\nimport './Prediction.sass';\r\n\r\nimport { Card, Div, Header, Spinner } from '@vkontakte/vkui';\r\nimport { PredictionInfo } from '../../types/PredictionInfo';\r\nimport { Icon12Verified } from '@vkontakte/icons';\r\n\r\ninterface PredictionProps\r\n{\r\n  title : string\r\n  variants : string[]\r\n  onPrediction : (variant : 0 | 1) => void\r\n  loading : boolean\r\n  predictionsInfo : PredictionInfo | null\r\n  userPrediction : 0 | 1 | null\r\n  canPredict : boolean\r\n}\r\n\r\nconst Prediction : React.FC<PredictionProps> = ({\r\n  title,\r\n  variants,\r\n  onPrediction,\r\n  loading,\r\n  predictionsInfo,\r\n  userPrediction,\r\n  canPredict,\r\n}) => {\r\n  const [activeVariant, setActiveVariant] = React.useState<0 | 1 | null>(userPrediction)\r\n  const doPrediction = (predict : 0|1) => {\r\n    if(loading || userPrediction !== null || !canPredict) return\r\n\r\n    setActiveVariant(predict)\r\n    onPrediction(predict)\r\n  }\r\n\r\n  return(\r\n    <Div>\r\n      <Card style={{display:'flex',flexDirection:'column'}}>\r\n        <Header>{title}</Header>\r\n        {loading\r\n          ? <Div><Spinner/></Div>\r\n          : <Div>\r\n            {variants.map((variant,i) => {\r\n              return <div\r\n                key={i}\r\n                className=\"prediction__btn\"\r\n                onClick={() => doPrediction(i as 0|1)}\r\n                style={{background : (!canPredict || userPrediction !== null) ? 'rgba(0,0,0,0.3)' : ''}}\r\n              >\r\n                <div className=\"prediction__variant\">\r\n                  {variant}\r\n                  {predictionsInfo && ` - ${i === 0 ? predictionsInfo.over : predictionsInfo.under}`}                  \r\n                </div>\r\n                {predictionsInfo &&\r\n                  <div className=\"prediction__stat\">\r\n                    {(userPrediction==i || activeVariant === i) && <Icon12Verified/>}\r\n                    {predictionsInfo.over + predictionsInfo.under === 0\r\n                      ? 0\r\n                      : (([predictionsInfo.over,predictionsInfo.under][i]/(predictionsInfo.over + predictionsInfo.under))*100).toFixed(0)\r\n                    }%\r\n                  </div>\r\n                }\r\n              </div>\r\n            })}\r\n          </Div>\r\n        }\r\n\r\n      </Card>\r\n    </Div>\r\n  )\r\n}\r\n\r\nexport default Prediction","import React from 'react';\r\n\r\nimport {\r\n  Cell,\r\n  Div,\r\n  HorizontalScroll,\r\n  List,\r\n  Panel,\r\n  PanelHeader,\r\n  PanelHeaderBack,\r\n  Placeholder,\r\n  Spinner,\r\n  Tabs,\r\n  TabsItem\r\n} from '@vkontakte/vkui';\r\n\r\nimport { useSelector } from 'react-redux';\r\nimport { goBack, goForward } from '../../store/slices/navigation';\r\nimport { RootState } from '../../store/rootReducer';\r\nimport { goBackToTeam, requestSquad, setActiveTeam } from '../../store/slices/team';\r\nimport { clearActiveGame, goForwardToGame, requestGame } from '../../store/slices/game';\r\nimport {useAppDispatch} from '../../store/store';\r\n\r\nimport GameHeader from '../../components/Headers/GameHeader';\r\nimport GameInfoTabs from '../../components/GameInfoTabs';\r\nimport EventRow from '../../components/EventRow';\r\n\r\nimport { TEAM_PANEL } from '../../constans';\r\n\r\nimport { ClubInfo } from '../../types/ClubInfo';\r\nimport Prediction from '../../components/Prediction';\r\nimport { requestDoPrediction, requestPredictions, clearPredictionsInfo } from '../../store/slices/predictions';\r\nimport { addPrediction } from '../../store/slices/user';\r\nimport { nowLessThen } from '../../utils/nowLessThen';\r\n\r\ninterface GamePanelProps\r\n{\r\n  id : string\r\n}\r\n\r\nconst TABS = [ 'События', 'Составы',]\r\n\r\nconst GamePanel : React.FC<GamePanelProps> = ({\r\n  id,\r\n}) => {\r\n  const dispatch = useAppDispatch()\r\n  const {history} = useSelector((s:RootState) => s.navigation)\r\n  const {activeGameInfo,activeGameEvents,loading} = useSelector((s:RootState) => s.game)\r\n  const {activeTournament} = useSelector((s:RootState) => s.tournament)\r\n  const {user} = useSelector((s:RootState) => s.user)\r\n  const {predictionsInfo, loading : loadingPrediction} = useSelector((s:RootState) => s.predictions)\r\n\r\n  const [activeTab, setActiveTab] = React.useState(0)\r\n  const [activeTeamTab, setActiveTeamTab] = React.useState(0)\r\n  const [userPrediction, setUserPrediction] = React.useState<0|1|null>(null)\r\n\r\n  const canPredict = nowLessThen(\r\n    activeGameInfo.date.split(' ')[0].split('.').map(s=>+s),\r\n    activeGameInfo.time.split(':').map(s=>+s)\r\n  )\r\n\r\n  const goToBack = () => {\r\n    const isToTeam = history[history.length-2] === 'team'\r\n    if(isToTeam) dispatch(goBackToTeam())\r\n    \r\n    dispatch(goBack())\r\n    dispatch(clearActiveGame())\r\n    dispatch(clearPredictionsInfo())\r\n  }\r\n\r\n  const goToTeam = (team : ClubInfo) => {\r\n    const tournamentId = activeTournament!.tournamentId\r\n    const clubId = team.href.replace('/club','')\r\n\r\n    dispatch(goForwardToGame())\r\n    \r\n    dispatch(setActiveTeam(team))\r\n    dispatch(goForward(TEAM_PANEL))\r\n\r\n    dispatch(clearActiveGame())\r\n    dispatch(clearPredictionsInfo())\r\n\r\n    dispatch(requestSquad({tournamentId, clubId}))\r\n  }\r\n\r\n  const doPredict = (prediction : 0 | 1) => {\r\n    const matchId = +activeGameInfo.matchHref.replace('/match','').replace('/empty_protocol','')\r\n    dispatch(addPrediction({matchId, prediction}))\r\n    dispatch(requestDoPrediction({ matchId, prediction, userId : user!.id, }))\r\n      .then(_ => dispatch(requestPredictions(matchId)))\r\n    setUserPrediction(prediction)\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    if(activeGameEvents) return\r\n\r\n    if(activeGameInfo.matchHref.includes('/empty_protocol'))\r\n    {\r\n      const matchId = +activeGameInfo.matchHref.replace('/match','').replace('/empty_protocol','')\r\n      const prediction = user!.predictions.find(p => p.matchId === matchId)\r\n      if(prediction)\r\n      {\r\n        setUserPrediction(prediction.prediction)\r\n      }\r\n\r\n      if(!canPredict || !!prediction)\r\n        dispatch(requestPredictions(matchId))\r\n      return\r\n    }\r\n\r\n    const req = dispatch(requestGame(+activeGameInfo.matchHref.replace('/match','')))\r\n    return () => {\r\n      req.abort()\r\n    }\r\n  },[])\r\n\r\n  const home = {\r\n    name : activeGameInfo.homeName,\r\n    href : activeGameInfo.homeHref,\r\n    logo : activeGameInfo.homeLogo,\r\n  }\r\n  \r\n  const away = {\r\n    name : activeGameInfo.awayName,\r\n    href : activeGameInfo.awayHref,\r\n    logo : activeGameInfo.awayLogo,\r\n  }\r\n\r\n  const noInformation = activeGameEvents && !activeGameEvents.squads.some(s => s.length > 0)\r\n\r\n  return(\r\n    <Panel id={id}>\r\n      <PanelHeader\r\n        left={<PanelHeaderBack onClick={goToBack} />}\r\n      >Матч</PanelHeader>\r\n\r\n      <GameHeader\r\n        home={home}\r\n        away={away}\r\n        score={!activeGameInfo.score ? '-:-' : activeGameInfo.score}\r\n        onGoToTeam={goToTeam}\r\n      />\r\n\r\n      <GameInfoTabs\r\n        date={activeGameInfo.date !== '-' ? `${activeGameInfo.date}, ${activeGameInfo.time}` : null}\r\n        refery={activeGameEvents && activeGameEvents.refery !== '-' ? activeGameEvents.refery : null}\r\n        place={activeGameEvents && activeGameEvents.place !== '-' ? activeGameEvents.place : null}\r\n      />\r\n\r\n      {!loading && !noInformation && activeGameInfo.score &&\r\n        <HorizontalScroll>\r\n          <Tabs mode=\"buttons\">\r\n            {TABS.map((tab,i) => {\r\n              return <TabsItem\r\n                key={i}\r\n                selected={activeTab === i}\r\n                onClick={() => setActiveTab(i)}\r\n              >{tab}</TabsItem>\r\n            })}\r\n          </Tabs>\r\n        </HorizontalScroll>\r\n      }\r\n      \r\n      {!activeGameInfo.score &&\r\n        <Prediction\r\n          canPredict={canPredict}\r\n          userPrediction={userPrediction}\r\n          predictionsInfo={predictionsInfo}\r\n          loading={loadingPrediction}\r\n          title=\"Количество голов\"\r\n          variants={['Больше 7', 'Не больше 7']}\r\n          onPrediction={doPredict}\r\n        />\r\n      }\r\n\r\n      {noInformation && <Placeholder>Нет информации</Placeholder>}\r\n      \r\n      {loading && <Div><Spinner/></Div>}\r\n\r\n\r\n      {!loading && activeTab === 0 && activeGameEvents &&\r\n        activeGameEvents.events.map((e,i) => {\r\n          let eventSymbol = ''\r\n          if(e.type === 'goal') eventSymbol = '⚽'\r\n          else if(e.type === 'assist') eventSymbol = '✅'\r\n          else if(e.type === 'yc') eventSymbol = '🟨'\r\n          else eventSymbol = '🟥'\r\n          \r\n          return <EventRow\r\n            key={i}\r\n            playerName={e.name}\r\n            eventType={eventSymbol}\r\n            isHome={e.team === 0}\r\n            minute={e.minute}\r\n          />\r\n        })\r\n      }\r\n\r\n      {!loading && activeTab === 1 && <>\r\n        <Tabs mode=\"buttons\">\r\n          {[activeGameInfo.homeName,activeGameInfo.awayName].map((team,i) => {\r\n            return <TabsItem\r\n              key={i}\r\n              selected={activeTeamTab === i}\r\n              onClick={() => setActiveTeamTab(i)}\r\n            >{team}</TabsItem>\r\n          })}\r\n        </Tabs>\r\n        <List>\r\n          {activeGameEvents &&\r\n            activeGameEvents.squads[activeTeamTab].map((player,i) => {\r\n              return <Cell\r\n                disabled\r\n                key={i}\r\n                description={activeGameInfo[activeTeamTab === 0 ? 'homeName' : 'awayName']}\r\n              >{player.name}</Cell>\r\n            })\r\n          }\r\n        </List>\r\n      </>}\r\n    </Panel>\r\n  )\r\n}\r\n\r\nexport default GamePanel","export const nowLessThen = (date : number[], time : number[]) : boolean => {\r\n  const now = Date.now()\r\n\r\n  const [d,m,y] = date\r\n  const [h,min] = time\r\n  const gameTime = new Date(y,m-1,d,h,min).getTime()\r\n\r\n  return now <= gameTime\r\n}","import React from 'react';\r\n\r\nimport bridge from '@vkontakte/vk-bridge'\r\nimport {\r\n  Avatar,\r\n  Button,\r\n  Card,\r\n  Cell,\r\n  Div,\r\n  Header,\r\n  List,\r\n  Panel,\r\n  PanelHeader,\r\n  Snackbar,\r\n  usePlatform,\r\n} from '@vkontakte/vkui';\r\nimport { \r\n  Icon28ChevronRightOutline, \r\n  Icon28ChevronDownOutline,\r\n  Icon28FavoriteCircleFillYellow,\r\n  Icon28AddCircleFillBlue,\r\n  Icon28ReplyCircleFillGreen,\r\n  Icon28Users3Outline,\r\n  Icon16DoneCircle,\r\n  Icon28HomeOutline\r\n} from '@vkontakte/icons';\r\n\r\nimport { useDispatch } from 'react-redux';\r\nimport { goForward } from '../../store/slices/navigation';\r\nimport { requestTournament, setActiveTournament } from '../../store/slices/tournament';\r\n\r\nimport { TOURNAMENT_PANEL } from '../../constans';\r\n\r\nimport { CityInfo } from '../../types/CityInfo';\r\nimport { Tournament } from '../../types/Tournament';\r\nimport { toggleCollapse } from '../../store/slices/tournaments';\r\n\r\ninterface TournamentsPanelProps\r\n{\r\n  id : string\r\n  cities : (CityInfo & {collapsed : boolean})[]\r\n}\r\n\r\nconst GROUP_ID = 202380422\r\nconst GROUP_HREF = `https://vk.com/club${GROUP_ID}`\r\n\r\nconst TournamentsPanel : React.FC<TournamentsPanelProps> = ({\r\n  id,\r\n  cities,\r\n}) => {\r\n  const IS_ANDROID = window.location.href.includes('mobile_android')\r\n  const dispatch = useDispatch()\r\n\r\n  const goToTournament = (t : Tournament) => {\r\n    dispatch(goForward(TOURNAMENT_PANEL))\r\n    dispatch(setActiveTournament(t))\r\n    dispatch(requestTournament({tournamentId : +t.id, siteType : t.siteType }))\r\n  }\r\n\r\n  const [snackbar, setSnackbar] = React.useState<React.ReactElement | null>(null)\r\n  const openSnackbar = (text : string) => {\r\n    setSnackbar(\r\n      <Snackbar\r\n        before={\r\n          <Avatar size={24} style={{backgroundColor:'var(--accent)'}}>\r\n            <Icon16DoneCircle fill=\"#fff\" width={14} height={14} />\r\n          </Avatar>\r\n        }\r\n        onClose={() => setSnackbar(null)}\r\n      >{text}</Snackbar>\r\n    )\r\n  }\r\n\r\n  const addToFavourite = () => {\r\n    bridge.send('VKWebAppAddToFavorites')\r\n      .then(_=>openSnackbar('Успешно добавлено !'))\r\n      .catch(err=>err)\r\n  }\r\n\r\n  const joinToGroup = () => {\r\n    bridge.send('VKWebAppJoinGroup',{group_id:GROUP_ID})\r\n      .then(_=>openSnackbar('Вы вступили. Спасибо!'))\r\n      .catch(err=>err)\r\n  }\r\n\r\n  const goToGroup = () => {\r\n    let a = document.createElement('a')\r\n    a.href = GROUP_HREF\r\n    a.click()\r\n    a.remove()\r\n  }\r\n\r\n  const share = () => {\r\n    bridge.send('VKWebAppShare')\r\n      .then(res=>res)\r\n      .catch(err=>err)\r\n  }\r\n\r\n  const addToHomeScreen = () => {\r\n    bridge.send('VKWebAppAddToHomeScreen')\r\n      .then(_=>openSnackbar('Успешно добавлено !'))\r\n      .catch(err=>err)\r\n  }\r\n\r\n  return(\r\n    <Panel id={id}>\r\n      <PanelHeader separator={false}>Главная</PanelHeader>\r\n      \r\n      <Header style={{marginTop:8}}>Информация</Header>\r\n      <Div>\r\n        <Card>\r\n          <Div>\r\n            <div style={{display:'flex'}}>\r\n              <Button\r\n                style={{marginBottom:8,width:'100%',display:'flex',marginRight:8}}\r\n                size=\"l\"\r\n                before={<Icon28Users3Outline/>}\r\n                onClick={goToGroup}\r\n              >Группа</Button>\r\n              <Button\r\n                style={{marginBottom:8,display:'flex',justifyContent:'center',alignItems:'center'}}\r\n                size=\"l\"\r\n                before={<Icon28AddCircleFillBlue/>}\r\n                onClick={joinToGroup}\r\n              />\r\n            </div>\r\n            <Button\r\n              style={{marginBottom:8,width:'100%',display:'flex',}}\r\n              size=\"l\"\r\n              before={<Icon28FavoriteCircleFillYellow/>}\r\n              onClick={addToFavourite}\r\n            >Добавить в избранное</Button>\r\n            <Button\r\n              style={{marginBottom:IS_ANDROID?8:0,width:'100%',display:'flex',}}\r\n              size=\"l\"\r\n              before={<Icon28ReplyCircleFillGreen/>}\r\n              onClick={share}\r\n            >Поделиться</Button>\r\n            {IS_ANDROID &&\r\n              <Button\r\n                style={{marginBottom:0,width:'100%',display:'flex',}}\r\n                size=\"l\"\r\n                onClick={addToHomeScreen}\r\n                before={<Icon28HomeOutline/>}\r\n              >На дом. экран</Button>\r\n            }\r\n          </Div>\r\n        </Card>\r\n      </Div>\r\n\r\n      <Header>Турниры</Header>\r\n      {cities.map((city, i) => {\r\n        return <Div key={i} style={{paddingBottom: i===cities.length-1 ? 12 : 0}}>\r\n          <Card>\r\n            <div\r\n              onClick={() => dispatch(toggleCollapse(i))}\r\n              style={{display:'flex',padding:8}}\r\n            >\r\n              <div style={{display:'flex',flex:1,alignItems:'center',}}>\r\n                <Avatar mode=\"image\" size={32} src={city.tournaments[0].logo}/>\r\n                &nbsp;&nbsp;<div style={{flex:1}}>{city.title}</div>\r\n              </div>\r\n              <Icon28ChevronDownOutline\r\n                style={{color:'var(--accent)',transform : `rotate(${city.collapsed ? '0deg' : '180deg'})`}}\r\n              />\r\n            </div>\r\n            {!city.collapsed &&\r\n              <List>\r\n                {city.tournaments.map((t,i) => {\r\n                  return <Cell\r\n                    key={i}\r\n                    after={<Icon28ChevronRightOutline/>}\r\n                    onClick={() => goToTournament(t)}\r\n                  >{t.name}</Cell>\r\n                })}\r\n              </List>\r\n            }\r\n          </Card>\r\n        </Div>\r\n      })}\r\n\r\n      {snackbar}\r\n    </Panel>\r\n  )\r\n}\r\n\r\nexport default TournamentsPanel","import React from 'react';\r\n\r\nimport bridge from '@vkontakte/vk-bridge';\r\nimport {AdaptivityProvider, AppRoot, ConfigProvider, ScreenSpinner, View} from '@vkontakte/vkui';\r\n\r\nimport TournamentPanel from './panels/Tournament';\r\nimport TeamPanel from './panels/Team';\r\nimport GamePanel from './panels/Game';\r\nimport TournamentsPanel from './panels/Tournaments';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { RootState } from './store/rootReducer';\r\nimport { GAME_PANEL, TEAM_PANEL, TOURNAMENTS_PANEL, TOURNAMENT_PANEL } from './constans';\r\nimport { requestTournaments } from './store/slices/tournaments';\r\nimport { requestUser } from './store/slices/user';\r\nimport { goBack } from './store/slices/navigation';\r\nimport { clearActiveGame, goBackToGame } from './store/slices/game';\r\nimport { clearActiveteam, goBackToTeam } from './store/slices/team';\r\nimport { clearPredictionsInfo } from './store/slices/predictions';\r\nimport { clearActiveTournament, setActiveTab as setActiveTournamentTab } from './store/slices/tournament';\r\nimport { setActiveTab as setActiveTeamTab } from './store/slices/team';\r\n\r\nconst App = () => {\r\n  const dispatch = useDispatch()\r\n  const {activePanel, history} = useSelector((s:RootState) => s.navigation)\r\n  const {loading : loadingTournaments, cities} = useSelector((s:RootState) => s.tournaments)\r\n  const {loading : loadingTournament} = useSelector((s:RootState) => s.tournament)\r\n  const {loading : loadingUser} = useSelector((s:RootState) => s.user)\r\n\r\n  React.useEffect(() => {\r\n    const initApp = async () => {\r\n      const userInfo = await bridge.send('VKWebAppGetUserInfo')\r\n      // const userInfo = {id : 17}\r\n      dispatch(requestUser(userInfo.id))\r\n      dispatch(requestTournaments())\r\n      bridge.send('VKWebAppEnableSwipeBack').then(res=>res).catch(err=>err)\r\n    }\r\n    \r\n    initApp()\r\n  },[])\r\n\r\n  const goToBack = () => {\r\n    const currentPanel = history[history.length-1]\r\n    const newPanel = history[history.length-2]\r\n    \r\n    if(currentPanel === 'team')\r\n    {\r\n      if(newPanel === 'game') dispatch(goBackToGame())\r\n\r\n      dispatch(clearActiveteam())\r\n    }\r\n    else if(currentPanel === 'game')\r\n    {\r\n      if(newPanel === 'team') dispatch(goBackToTeam())\r\n\r\n      dispatch(clearActiveGame())\r\n      dispatch(clearPredictionsInfo())\r\n    }\r\n    \r\n    if(newPanel === 'tournaments')\r\n    {\r\n      dispatch(setActiveTournamentTab(0))\r\n      dispatch(clearActiveTournament())\r\n    }\r\n    else if(newPanel === 'tournament')\r\n    {\r\n      dispatch(setActiveTeamTab(0))\r\n    }\r\n\r\n    dispatch(goBack())\r\n  }\r\n\r\n  return (\r\n    <ConfigProvider isWebView={true}>\r\n      <AppRoot>\r\n        <View\r\n          activePanel={activePanel}\r\n          onSwipeBack={goToBack}\r\n          history={history}\r\n          popout={(loadingTournaments || loadingUser || loadingTournament) && <ScreenSpinner />}\r\n        >\r\n          <TournamentsPanel id={TOURNAMENTS_PANEL} cities={cities}/>\r\n          <TournamentPanel id={TOURNAMENT_PANEL}/>\r\n          <GamePanel id={GAME_PANEL}/>\r\n          <TeamPanel id={TEAM_PANEL}/>\r\n        </View>\r\n      </AppRoot>\r\n    </ConfigProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './index.sass';\n\nimport bridge from '@vkontakte/vk-bridge'\n\n\nimport { Provider } from 'react-redux';\nimport store from './store/store';\n\nimport App from './App';\n\nbridge.send('VKWebAppInit')\nbridge.subscribe(e => {\n  if(e.detail.type === 'VKWebAppUpdateConfig')\n    document.body.setAttribute('scheme', e.detail.data.scheme)\n})\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n)"],"sourceRoot":""}