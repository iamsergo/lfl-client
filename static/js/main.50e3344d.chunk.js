(this["webpackJsonplfl-client"]=this["webpackJsonplfl-client"]||[]).push([[0],{111:function(e,t,n){},125:function(e,t,n){},126:function(e,t,n){},127:function(e,t,n){},128:function(e,t,n){},129:function(e,t,n){},130:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(0),a=n.n(c),i=n(25),o=n.n(i),s=(n(110),n(111),n(21)),u=n.n(s),d=n(13),l=n(14),j=n(23),f="tournaments",m="tournament",b="game",p="team",h={activePanel:f,history:[f]},v=Object(l.c)({name:"navigation",initialState:h,reducers:{goForward:function(e,t){var n=t.payload;e.activePanel=n,e.history.push(n)},goBack:function(e){e.history.pop();var t=e.history[e.history.length-1];e.activePanel=t}}}),O=v.actions,g=O.goBack,x=O.goForward,y=v.reducer,T=n(27),w=n(12),k=n.n(w),C=n(19),I="https://lfl-proxy.herokuapp.com",G=function(){var e=Object(C.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_={getGames:function(){var e=Object(C.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(I,"/games/").concat(t),e.next=3,G(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getTournaments:function(){var e=Object(C.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(I,"/tournaments"),e.next=3,G(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getTournament:function(){var e=Object(C.a)(k.a.mark((function e(t){var n,r,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.tournamentId,r=t.siteType,c="".concat(I,"/tournaments/").concat(n,"/").concat(r),e.next=4,G(c);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getSquads:function(){var e=Object(C.a)(k.a.mark((function e(t){var n,r,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.tournamentId,r=t.clubId,c="".concat(I,"/squads/").concat(n,"/").concat(r),e.next=4,G(c);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getPredictionsByMatch:function(){var e=Object(C.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(I,"/predictions/").concat(t),e.next=3,G(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),doPrediction:function(){var e=Object(C.a)(k.a.mark((function e(t){var n,r,c,a,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.matchId,r=t.userId,c=t.prediction,a="".concat(I,"/predictions"),e.next=4,fetch(a,{method:"POST",body:JSON.stringify({matchId:n,userId:r,prediction:c}),headers:{"Content-Type":"application/json;charset=utf-8"}});case 4:return i=e.sent,e.abrupt("return",i.json());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getUser:function(){var e=Object(C.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(I,"/users/").concat(t),e.next=3,G(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),registerUser:function(){var e=Object(C.a)(k.a.mark((function e(t){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(I,"/users/").concat(t),e.next=3,fetch(n,{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"}});case 3:return r=e.sent,e.next=6,r.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},H=Object(l.b)("tournaments/request",_.getTournaments),N=Object(l.c)({name:"tournaments",initialState:{loading:!1,error:!1,cities:[]},reducers:{toggleCollapse:function(e,t){e.cities=e.cities.map((function(e,n){return n===t.payload?Object(T.a)(Object(T.a)({},e),{},{collapsed:!e.collapsed}):e}))}},extraReducers:function(e){e.addCase(H.pending,(function(e){e.loading=!0,e.error=!1})).addCase(H.rejected,(function(e){e.loading=!1,e.error=!0})).addCase(H.fulfilled,(function(e,t){e.loading=!1,e.error=!1,e.cities=t.payload.map((function(e){return Object(T.a)(Object(T.a)({},e),{},{collapsed:!0})}))}))}}),A=N.actions.toggleCollapse,S=N.reducer,P=Object(l.b)("tournament/request",_.getTournament),B=Object(l.c)({name:"tournament",initialState:{loading:!1,error:!1,activeTournamentName:"",activeTournamentCity:"",activeSiteType:0,activeVkHref:"",activeTournament:null,activeTab:0},reducers:{setActiveTournament:function(e,t){var n=t.payload;e.activeTournamentName=n.name,e.activeSiteType=n.siteType,e.activeVkHref=n.vkHref,e.activeTournamentCity=n.city},clearActiveTournament:function(e){e.activeTournament=null,e.activeTournamentName=""},setActiveTab:function(e,t){e.activeTab=t.payload}},extraReducers:function(e){e.addCase(P.pending,(function(e){e.loading=!0,e.error=!1})).addCase(P.rejected,(function(e){e.loading=!1,e.error=!0})).addCase(P.fulfilled,(function(e,t){e.loading=!1,e.error=!1;var n=t.payload;e.activeTournament=n}))}}),q=B.actions,E=q.clearActiveTournament,z=q.setActiveTournament,V=q.setActiveTab,W=B.reducer,F=Object(l.b)("squad/request",(function(e){var t=e.tournamentId,n=e.clubId;return _.getSquads({tournamentId:t,clubId:n})})),R=Object(l.c)({name:"team",initialState:{loading:!1,error:!1,activeTeam:null,activeTeamSquad:[],teamHistory:[],activeTab:0},reducers:{setActiveTeam:function(e,t){e.activeTeam=t.payload},clearActiveteam:function(e){e.activeTeam=null,e.activeTeamSquad=[]},goForwardToTeam:function(e){e.teamHistory.push(e.activeTeam)},goBackToTeam:function(e){if(0!==e.teamHistory.length){var t=e.teamHistory.pop();e.activeTeam=t}},setActiveTab:function(e,t){e.activeTab=t.payload}},extraReducers:function(e){e.addCase(F.pending,(function(e){e.loading=!0,e.error=!1})).addCase(F.rejected,(function(e){e.loading=!1,e.error=!0})).addCase(F.fulfilled,(function(e,t){e.loading=!1,e.error=!1;var n=t.payload;e.activeTeamSquad=n}))}}),K=R.actions,L=K.clearActiveteam,U=K.setActiveTeam,D=K.setActiveTab,J=K.goForwardToTeam,M=K.goBackToTeam,Q=R.reducer,X={loading:!1,error:!1,activeGameEvents:null,activeGameInfo:{awayHref:"",awayLogo:"",awayName:"",date:"-",homeHref:"",homeLogo:"",homeName:"",matchHref:"",place:"-",score:"-:-",time:"-",tour:1},gameHistory:[]},Y=Object(l.b)("game/request",(function(e){return _.getGames(e)})),Z=Object(l.c)({name:"game",initialState:X,reducers:{setActiveGameInfo:function(e,t){e.activeGameInfo=t.payload},clearActiveGame:function(e){e.activeGameInfo=X.activeGameInfo,e.activeGameEvents=null},goForwardToGame:function(e){e.gameHistory.push({activeGameEvents:e.activeGameEvents,activeGameInfo:e.activeGameInfo})},goBackToGame:function(e){if(0!==e.gameHistory.length){var t=e.gameHistory.pop();e.activeGameEvents=t.activeGameEvents,e.activeGameInfo=t.activeGameInfo}}},extraReducers:function(e){e.addCase(Y.pending,(function(e){e.loading=!0,e.error=!1})).addCase(Y.rejected,(function(e){e.loading=!1,e.error=!0})).addCase(Y.fulfilled,(function(e,t){e.loading=!1,e.error=!1;var n=t.payload;e.activeGameEvents=n,e.activeGameEvents.events.sort((function(e,t){return e.minute-t.minute}))}))}}),$=Z.actions,ee=$.setActiveGameInfo,te=$.goBackToGame,ne=$.goForwardToGame,re=$.clearActiveGame,ce=Z.reducer,ae=Object(l.b)("user/request",function(){var e=Object(C.a)(k.a.mark((function e(t){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.getUser(t);case 2:if(!(n=e.sent)){e.next=5;break}return e.abrupt("return",n);case 5:return e.next=7,_.registerUser(t);case 7:return r=e.sent,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ie=Object(l.c)({name:"user",initialState:{loading:!1,error:!1,user:null},reducers:{addPrediction:function(e,t){e.user.predictions.push(t.payload)}},extraReducers:function(e){e.addCase(ae.pending,(function(e){e.loading=!0,e.error=!1})).addCase(ae.rejected,(function(e){e.loading=!1,e.error=!0})).addCase(ae.fulfilled,(function(e,t){e.loading=!1,e.error=!1,e.user=t.payload}))}}),oe=ie.actions.addPrediction,se=ie.reducer,ue=Object(l.b)("predictions/get",(function(e){return _.getPredictionsByMatch(e)})),de=Object(l.b)("predictions/do",(function(e){var t=e.matchId,n=e.userId,r=e.prediction;return _.doPrediction({matchId:t,userId:n,prediction:r})})),le=Object(l.c)({name:"predictions",initialState:{loading:!1,error:!1,predictionsInfo:null},reducers:{clearPredictionsInfo:function(e){e.predictionsInfo=null}},extraReducers:function(e){e.addCase(ue.pending,(function(e){e.loading=!0,e.error=!1})).addCase(ue.rejected,(function(e){e.loading=!1,e.error=!0})).addCase(ue.fulfilled,(function(e,t){e.loading=!1,e.error=!1,e.predictionsInfo=t.payload})).addCase(de.pending,(function(e){e.loading=!0,e.error=!1})).addCase(de.rejected,(function(e){e.loading=!1,e.error=!0})).addCase(de.fulfilled,(function(e,t){e.loading=!1,e.error=!1}))}}),je=le.actions.clearPredictionsInfo,fe=le.reducer,me=Object(j.c)({navigation:y,tournaments:S,tournament:W,team:Q,game:ce,user:se,predictions:fe}),be=Object(l.a)({reducer:me}),pe=be,he=n(4),ve=n(20),Oe=function(e){var t=e.logo,n=e.title,c=e.city,a=e.hrefs;return Object(r.jsxs)(he.h,{style:{display:"flex"},children:[t&&Object(r.jsx)(he.b,{mode:"image",size:74,src:t}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{style:{padding:0,margin:0,marginLeft:t?8:0},children:n}),Object(r.jsx)("h5",{style:{padding:0,margin:0,marginTop:4,marginLeft:t?8:0,color:"gray"},children:c}),a&&Object(r.jsx)("div",{style:{fontSize:14,marginTop:4},children:a.map((function(e,t){return e&&Object(r.jsx)(he.l,{style:{marginRight:4},href:e,children:["\u0421\u0430\u0439\u0442","\u0413\u0440\u0443\u043f\u043f\u0430"][t]},t)}))})]})]})},ge=function(e){var t=e.games,n=e.header,c=e.teamHref;e.onGoToGame;return Object(r.jsx)(he.i,{header:n&&Object(r.jsx)(he.j,{children:n}),children:t.map((function(e,t){var n="";if(c){var a={win:"var(--button_commerce_background)",draw:"orange",lose:"var(--button_secondary_destructive_foreground)"},i=e.score.split(":").map((function(e){return+e})),o=Object(ve.a)(i,2),s=o[0],u=o[1];n=s>u?c===e.homeHref?a.win:a.lose:s<u?c===e.homeHref?a.lose:a.win:a.draw}return Object(r.jsx)(he.e,{disabled:!0,before:Object(r.jsxs)("div",{style:{display:"flex",marginRight:8},children:[Object(r.jsx)(he.b,{mode:"image",src:e.homeLogo}),Object(r.jsx)(he.b,{mode:"image",src:e.awayLogo})]}),after:e.score&&Object(r.jsx)(he.g,{mode:"primary",style:{padding:4,background:n},children:e.score}),description:"-"!==e.date&&Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{children:[e.date,", ",e.time]}),"-"!==e.place&&Object(r.jsx)("div",{children:e.place})]}),children:Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{children:e.homeName}),Object(r.jsx)("div",{children:e.awayName})]})},t)}))})},xe=(n(125),function(e){var t=e.n,n=e.isHeader,c=e.isDark,a=e.photo,i=e.colors,o=e.values,s=e.title,u=e.description,d=e.onClick;return Object(r.jsx)(he.e,{style:{fontWeight:n?"bold":"normal",background:c?"var(--background_keyboard)":"",marginBottom:4},before:a&&Object(r.jsxs)("div",{className:"photo",children:[t&&Object(r.jsx)("div",{className:"photo__place",children:t}),Object(r.jsx)(he.b,{mode:"image",src:a})]}),after:Object(r.jsx)("div",{style:{padding:4,display:"flex"},children:o.map((function(e,t){return Object(r.jsx)("div",{style:{color:i[t],marginRight:4,width:14,textAlign:"center",fontSize:14},children:e},t)}))}),disabled:!d,onClick:d,description:u,children:s})}),ye=function(e){var t={};return e.forEach((function(e){t[e.tour]||(t[e.tour]=[]),t[e.tour].push(e)})),t},Te=["\u0422\u0430\u0431\u043b\u0438\u0446\u0430","\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435","\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b"],we=function(e){var t=e.id,n=Object(d.b)(),c=Object(d.c)((function(e){return e.tournament})),a=c.activeTournament,i=c.activeTournamentName,o=c.activeTournamentCity,s=c.activeTab,u=c.activeSiteType,l=c.activeVkHref,j=function(e){console.log(e),("-"!==e.date||e.score)&&(n(ee(e)),n(x(b)))};return Object(r.jsxs)(he.n,{id:t,children:[Object(r.jsx)(he.o,{left:Object(r.jsx)(he.p,{onClick:function(){n(g()),n(E()),n(V(0))}}),children:"\u0422\u0443\u0440\u043d\u0438\u0440"}),Object(r.jsx)(Oe,{hrefs:[0===u?"https://lfl.ru/tournament".concat(null===a||void 0===a?void 0:a.tournamentId):"https://www.goalstream.org/season/".concat(null===a||void 0===a?void 0:a.tournamentId),l],title:i,city:o}),Object(r.jsx)(he.k,{children:Object(r.jsx)(he.u,{mode:"buttons",children:Te.map((function(e,t){return Object(r.jsx)(he.v,{selected:s===t,onClick:function(){return n(V(t))},children:e},t)}))})}),0===s&&a&&Object(r.jsxs)(he.m,{children:[Object(r.jsx)(xe,{isHeader:!0,title:"\u041a\u043e\u043c\u0430\u043d\u0434\u0430",values:["\u0418","\u0412","\u041d","\u041f","\u041e"],colors:["","green","orange","red"]}),a.table.map((function(e,t){if(""!==e.title)return e.title?Object(r.jsx)(he.e,{disabled:!0,style:{fontWeight:"bold"},children:e.title},t):Object(r.jsx)(xe,{n:e.place,title:e.name,photo:e.logo,onClick:function(){return function(e){n(U(e)),n(x(p))}(e)},values:[e.win+e.draw+e.lose,e.win,e.draw,e.lose,e.points].map((function(e){return""+e})),colors:["","green","orange","red"],isDark:t%2===0},t)}))]}),1===s&&a&&Object.entries(ye(a.calendar)).map((function(e,t){var n=Object(ve.a)(e,2),c=n[0],a=n[1];return Object(r.jsx)(ge,{header:"".concat(c," \u0422\u0423\u0420"),games:a,onGoToGame:j},t)})),2===s&&a&&Object.entries(ye(a.results)).reverse().map((function(e,t){var n=Object(ve.a)(e,2),c=n[0],a=n[1];return Object(r.jsx)(ge,{header:"".concat(c," \u0422\u0423\u0420"),games:a,onGoToGame:j},t)}))]})},ke=["\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435","\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b"],Ce=function(e){var t=e.id,n=Object(d.b)(),c=Object(d.c)((function(e){return e.team})),a=(c.activeTeamSquad,c.loading,c.activeTeam),i=c.activeTab,o=Object(d.c)((function(e){return e.navigation})).history,s=Object(d.c)((function(e){return e.tournament})),u=s.activeTournament,l=s.activeTournamentCity,j=(s.activeTournamentName,function(e){("-"!==e.date||e.score)&&(n(J()),n(ee(e)),n(x(b)))});return Object(r.jsxs)(he.n,{id:t,children:[Object(r.jsx)(he.o,{left:Object(r.jsx)(he.p,{onClick:function(){"game"===o[o.length-2]&&n(te()),n(g()),n(L())}}),children:"\u041a\u043e\u043c\u0430\u043d\u0434\u0430"}),a&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Oe,{logo:a.logo,title:a.name,city:l}),Object(r.jsx)(he.k,{children:Object(r.jsx)(he.u,{mode:"buttons",children:ke.map((function(e,t){return Object(r.jsx)(he.v,{selected:i===t,onClick:function(){return n(D(t))},children:e},t)}))})})]}),0===i&&a&&Object(r.jsx)(ge,{games:u.calendar.filter((function(e){return e.homeHref===a.href||e.awayHref===a.href})),onGoToGame:j}),1===i&&a&&Object(r.jsx)(ge,{teamHref:a.href,games:u.results.filter((function(e){return e.homeHref===a.href||e.awayHref===a.href})),onGoToGame:j})]})},Ie=(n(126),function(e){var t=e.home,n=e.away,c=e.score,a=e.onGoToTeam,i=function(e){return a(e)};return Object(r.jsxs)(he.h,{className:"game-header__container",children:[Object(r.jsxs)("div",{className:"game-header__item",onClick:function(){return i(t)},children:[Object(r.jsx)(he.b,{size:82,mode:"image",src:t.logo}),Object(r.jsx)("div",{style:{textAlign:"center"},children:t.name})]}),Object(r.jsx)("div",{className:"game-header__item",children:c}),Object(r.jsxs)("div",{className:"game-header__item",onClick:function(){return i(n)},children:[Object(r.jsx)(he.b,{size:82,mode:"image",src:n.logo}),Object(r.jsx)("div",{style:{textAlign:"center"},children:n.name})]})]})}),Ge=(n(127),n(131)),_e=n(132),He=n(133),Ne=function(e){var t=e.date,n=e.refery,c=e.place;return Object(r.jsx)(he.k,{children:Object(r.jsxs)(he.u,{mode:"buttons",children:[t&&Object(r.jsxs)(he.v,{selected:!0,className:"game-info__item",children:[Object(r.jsx)(Ge.a,{}),Object(r.jsx)("div",{children:t})]}),c&&Object(r.jsxs)(he.v,{selected:!0,className:"game-info__item",children:[Object(r.jsx)(_e.a,{}),Object(r.jsx)("div",{children:c})]}),n&&Object(r.jsxs)(he.v,{selected:!0,className:"game-info__item",children:[Object(r.jsx)(He.a,{}),Object(r.jsx)("div",{children:n})]})]})})},Ae=(n(128),function(e){var t=e.isHome,n=e.playerName,c=e.eventType,a=e.minute;return Object(r.jsxs)("div",{className:"events__row",children:[Object(r.jsxs)("div",{className:"events__player",children:[0===a||t?"":a,t&&n]}),Object(r.jsx)("div",{className:"events__type",children:c}),Object(r.jsxs)("div",{className:"events__player",children:[!t&&n,0!==a&&t?a:""]})]})}),Se=(n(129),n(134)),Pe=function(e){var t=e.title,n=e.variants,c=e.onPrediction,i=e.loading,o=e.predictionsInfo,s=e.userPrediction,u=e.canPredict,d=a.a.useState(s),l=Object(ve.a)(d,2),j=l[0],f=l[1];return Object(r.jsx)(he.h,{children:Object(r.jsxs)(he.d,{style:{display:"flex",flexDirection:"column"},children:[Object(r.jsx)(he.j,{children:t}),i?Object(r.jsx)(he.h,{children:Object(r.jsx)(he.t,{})}):Object(r.jsx)(he.h,{children:n.map((function(e,t){return Object(r.jsxs)("div",{className:"prediction__btn",onClick:function(){return e=t,void(!i&&null===s&&u&&(f(e),c(e)));var e},style:{background:u&&null===s?"":"rgba(0,0,0,0.3)"},children:[Object(r.jsxs)("div",{className:"prediction__variant",children:[e,o&&" - ".concat(0===t?o.over:o.under)]}),o&&Object(r.jsxs)("div",{className:"prediction__stat",children:[(s==t||j===t)&&Object(r.jsx)(Se.a,{}),o.over+o.under===0?0:([o.over,o.under][t]/(o.over+o.under)*100).toFixed(0),"%"]})]},t)}))})]})})},Be=["\u0421\u043e\u0431\u044b\u0442\u0438\u044f","\u0421\u043e\u0441\u0442\u0430\u0432\u044b"],qe=function(e){var t=e.id,n=Object(d.b)(),c=Object(d.c)((function(e){return e.navigation})).history,i=Object(d.c)((function(e){return e.game})),o=i.activeGameInfo,s=i.activeGameEvents,u=i.loading,l=Object(d.c)((function(e){return e.tournament})).activeTournament,j=Object(d.c)((function(e){return e.user})).user,f=Object(d.c)((function(e){return e.predictions})),m=f.predictionsInfo,b=f.loading,h=a.a.useState(0),v=Object(ve.a)(h,2),O=v[0],y=v[1],T=a.a.useState(0),w=Object(ve.a)(T,2),k=w[0],C=w[1],I=a.a.useState(null),G=Object(ve.a)(I,2),_=G[0],H=G[1],N=function(e,t){var n=Date.now(),r=Object(ve.a)(e,3),c=r[0],a=r[1],i=r[2],o=Object(ve.a)(t,2),s=o[0],u=o[1];return n<=new Date(i,a-1,c,s,u).getTime()}(o.date.split(" ")[0].split(".").map((function(e){return+e})),o.time.split(":").map((function(e){return+e})));a.a.useEffect((function(){if(!s){if(o.matchHref.includes("/empty_protocol")){var e=+o.matchHref.replace("/match","").replace("/empty_protocol",""),t=j.predictions.find((function(t){return t.matchId===e}));return t&&H(t.prediction),void(N&&!t||n(ue(e)))}var r=n(Y(+o.matchHref.replace("/match","")));return function(){r.abort()}}}),[]);var A={name:o.homeName,href:o.homeHref,logo:o.homeLogo},S={name:o.awayName,href:o.awayHref,logo:o.awayLogo},P=s&&!s.squads.some((function(e){return e.length>0}));return Object(r.jsxs)(he.n,{id:t,children:[Object(r.jsx)(he.o,{left:Object(r.jsx)(he.p,{onClick:function(){"team"===c[c.length-2]&&n(M()),n(g()),n(re()),n(je())}}),children:"\u041c\u0430\u0442\u0447"}),Object(r.jsx)(Ie,{home:A,away:S,score:o.score?o.score:"-:-",onGoToTeam:function(e){var t=l.tournamentId,r=e.href.replace("/club","");n(ne()),n(U(e)),n(x(p)),n(re()),n(je()),n(F({tournamentId:t,clubId:r}))}}),Object(r.jsx)(Ne,{date:"-"!==o.date?"".concat(o.date,", ").concat(o.time):null,refery:s&&"-"!==s.refery?s.refery:null,place:s&&"-"!==s.place?s.place:null}),!u&&!P&&o.score&&Object(r.jsx)(he.k,{children:Object(r.jsx)(he.u,{mode:"buttons",children:Be.map((function(e,t){return Object(r.jsx)(he.v,{selected:O===t,onClick:function(){return y(t)},children:e},t)}))})}),!o.score&&Object(r.jsx)(Pe,{canPredict:N,userPrediction:_,predictionsInfo:m,loading:b,title:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0433\u043e\u043b\u043e\u0432",variants:["\u0411\u043e\u043b\u044c\u0448\u0435 7","\u041d\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 7"],onPrediction:function(e){var t=+o.matchHref.replace("/match","").replace("/empty_protocol","");n(oe({matchId:t,prediction:e})),n(de({matchId:t,prediction:e,userId:j.id})).then((function(e){return n(ue(t))})),H(e)}}),P&&Object(r.jsx)(he.q,{children:"\u041d\u0435\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438"}),u&&Object(r.jsx)(he.h,{children:Object(r.jsx)(he.t,{})}),!u&&0===O&&s&&s.events.map((function(e,t){var n="";return n="goal"===e.type?"\u26bd":"assist"===e.type?"\u2705":"yc"===e.type?"\ud83d\udfe8":"\ud83d\udfe5",Object(r.jsx)(Ae,{playerName:e.name,eventType:n,isHome:0===e.team,minute:e.minute},t)})),!u&&1===O&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(he.u,{mode:"buttons",children:[o.homeName,o.awayName].map((function(e,t){return Object(r.jsx)(he.v,{selected:k===t,onClick:function(){return C(t)},children:e},t)}))}),Object(r.jsx)(he.m,{children:s&&s.squads[k].map((function(e,t){return Object(r.jsx)(he.e,{disabled:!0,description:o[0===k?"homeName":"awayName"],children:e.name},t)}))})]})]})},Ee=n(135),ze=n(136),Ve=n(137),We=n(138),Fe=n(139),Re=n(140),Ke=n(141),Le=n(142),Ue=202380422,De="https://vk.com/club".concat(Ue),Je=function(e){var t=e.id,n=e.cities,c=window.location.href.includes("mobile_android"),i=Object(d.b)(),o=a.a.useState(null),s=Object(ve.a)(o,2),l=s[0],j=s[1],f=function(e){j(Object(r.jsx)(he.s,{before:Object(r.jsx)(he.b,{size:24,style:{backgroundColor:"var(--accent)"},children:Object(r.jsx)(Ee.a,{fill:"#fff",width:14,height:14})}),onClose:function(){return j(null)},children:e}))};return Object(r.jsxs)(he.n,{id:t,children:[Object(r.jsx)(he.o,{separator:!1,children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(r.jsx)(he.j,{style:{marginTop:8},children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"}),Object(r.jsx)(he.h,{children:Object(r.jsx)(he.d,{children:Object(r.jsxs)(he.h,{children:[Object(r.jsxs)("div",{style:{display:"flex"},children:[Object(r.jsx)(he.c,{style:{marginBottom:8,width:"100%",display:"flex",marginRight:8},size:"l",before:Object(r.jsx)(ze.a,{}),onClick:function(){var e=document.createElement("a");e.href=De,e.click(),e.remove()},children:"\u0413\u0440\u0443\u043f\u043f\u0430"}),Object(r.jsx)(he.c,{style:{marginBottom:8,display:"flex",justifyContent:"center",alignItems:"center"},size:"l",before:Object(r.jsx)(Ve.a,{}),onClick:function(){u.a.send("VKWebAppJoinGroup",{group_id:Ue}).then((function(e){return f("\u0412\u044b \u0432\u0441\u0442\u0443\u043f\u0438\u043b\u0438. \u0421\u043f\u0430\u0441\u0438\u0431\u043e!")})).catch((function(e){return e}))}})]}),Object(r.jsx)(he.c,{style:{marginBottom:8,width:"100%",display:"flex"},size:"l",before:Object(r.jsx)(We.a,{}),onClick:function(){u.a.send("VKWebAppAddToFavorites").then((function(e){return f("\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e !")})).catch((function(e){return e}))},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"}),Object(r.jsx)(he.c,{style:{marginBottom:c?8:0,width:"100%",display:"flex"},size:"l",before:Object(r.jsx)(Fe.a,{}),onClick:function(){u.a.send("VKWebAppShare").then((function(e){return e})).catch((function(e){return e}))},children:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f"}),c&&Object(r.jsx)(he.c,{style:{marginBottom:0,width:"100%",display:"flex"},size:"l",onClick:function(){u.a.send("VKWebAppAddToHomeScreen").then((function(e){return f("\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e !")})).catch((function(e){return e}))},before:Object(r.jsx)(Re.a,{}),children:"\u041d\u0430 \u0434\u043e\u043c. \u044d\u043a\u0440\u0430\u043d"})]})})}),Object(r.jsx)(he.j,{children:"\u0422\u0443\u0440\u043d\u0438\u0440\u044b"}),n.map((function(e,t){return Object(r.jsx)(he.h,{style:{paddingBottom:t===n.length-1?12:0},children:Object(r.jsxs)(he.d,{children:[Object(r.jsxs)("div",{onClick:function(){return i(A(t))},style:{display:"flex",padding:8},children:[Object(r.jsxs)("div",{style:{display:"flex",flex:1,alignItems:"center"},children:[Object(r.jsx)(he.b,{mode:"image",size:32,src:e.tournaments[0].logo}),"\xa0\xa0",Object(r.jsx)("div",{style:{flex:1},children:e.title})]}),Object(r.jsx)(Ke.a,{style:{color:"var(--accent)",transform:"rotate(".concat(e.collapsed?"0deg":"180deg",")")}})]}),!e.collapsed&&Object(r.jsx)(he.m,{children:e.tournaments.map((function(e,t){return Object(r.jsx)(he.e,{after:Object(r.jsx)(Le.a,{}),onClick:function(){return function(e){i(x(m)),i(z(e)),i(P({tournamentId:+e.id,siteType:e.siteType}))}(e)},children:e.name},t)}))})]})},t)})),l]})},Me=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.navigation})),n=t.activePanel,c=t.history,i=Object(d.c)((function(e){return e.tournaments})),o=i.loading,s=i.cities,l=Object(d.c)((function(e){return e.tournament})).loading,j=Object(d.c)((function(e){return e.user})).loading;a.a.useEffect((function(){(function(){var t=Object(C.a)(k.a.mark((function t(){var n;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.send("VKWebAppGetUserInfo");case 2:n=t.sent,e(ae(n.id)),e(H()),u.a.send("VKWebAppEnableSwipeBack").then((function(e){return e})).catch((function(e){return e}));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]);return Object(r.jsx)(he.f,{isWebView:!0,children:Object(r.jsx)(he.a,{children:Object(r.jsxs)(he.w,{activePanel:n,onSwipeBack:function(){var t=c[c.length-1],n=c[c.length-2];"team"===t?("game"===n&&e(te()),e(L())):"game"===t&&("team"===n&&e(M()),e(re()),e(je())),"tournaments"===n?(e(V(0)),e(E())):"tournament"===n&&e(D(0)),e(g())},history:c,popout:(o||j||l)&&Object(r.jsx)(he.r,{}),children:[Object(r.jsx)(Je,{id:f,cities:s}),Object(r.jsx)(we,{id:m}),Object(r.jsx)(qe,{id:b}),Object(r.jsx)(Ce,{id:p})]})})})};u.a.send("VKWebAppInit"),u.a.subscribe((function(e){"VKWebAppUpdateConfig"===e.detail.type&&document.body.setAttribute("scheme",e.detail.data.scheme)})),o.a.render(Object(r.jsx)(d.a,{store:pe,children:Object(r.jsx)(Me,{})}),document.getElementById("root"))}},[[130,1,2]]]);
//# sourceMappingURL=main.50e3344d.chunk.js.map