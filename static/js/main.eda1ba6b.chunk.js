(this["webpackJsonplfl-client"]=this["webpackJsonplfl-client"]||[]).push([[0],{107:function(e,t,n){},122:function(e,t,n){},123:function(e,t,n){},124:function(e,t,n){},125:function(e,t,n){},126:function(e,t,n){},127:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),c=n.n(a),i=n(27),o=n.n(i),s=(n(106),n(107),n(14)),u=n.n(s),d=n(13),l=n(17),f=n(24),j="tournaments",m="tournament",b="game",p="team",h="league",v="add_widget",g="edit_game",O={activePanel:j,history:[j]},x=Object(l.c)({name:"navigation",initialState:O,reducers:{setNavigation:function(e,t){var n=t.payload;e.activePanel=n.activePanel,e.history=n.history},goForward:function(e,t){var n=t.payload;e.activePanel=n,e.history.push(n)},goBack:function(e){e.history.pop();var t=e.history[e.history.length-1];e.activePanel=t}}}),y=x.actions,w=y.goBack,k=y.goForward,T=y.setNavigation,_=x.reducer,C=n(26),S=n(11),I=n.n(S),A=n(15),G="https://lfl-proxy.herokuapp.com",H=function(){var e=Object(A.a)(I.a.mark((function e(t){var n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N={getGames:function(){var e=Object(A.a)(I.a.mark((function e(t){var n,r,a,c,i;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.matchId,r=t.postfix,a=t.siteType,c=encodeURIComponent(r),i="".concat(G,"/games?siteType=").concat(a,"&postfix=").concat(c,"&matchId=").concat(n),e.next=5,H(i);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),editScore:function(){var e=Object(A.a)(I.a.mark((function e(t){var n,r,a,c,i,o,s,u;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.tournamentId,r=t.matchHref,a=t.score,c=t.userId,i=encodeURIComponent(r),o=encodeURIComponent(a),s="".concat(G,"/games/edit?matchHref=").concat(i,"&score=").concat(o,"&userId=").concat(c,"&tournamentId=").concat(n),e.next=6,fetch(s,{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"}});case 6:return u=e.sent,e.abrupt("return",u.json());case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getTournaments:function(){var e=Object(A.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(G,"/tournaments"),e.next=3,H(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getTournament:function(){var e=Object(A.a)(I.a.mark((function e(t){var n,r,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.tournamentId,r=t.siteType,a="".concat(G,"/tournaments/").concat(n,"/").concat(r),e.next=4,H(a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getSquads:function(){var e=Object(A.a)(I.a.mark((function e(t){var n,r,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.tournamentId,r=t.clubId,a="".concat(G,"/squads/").concat(n,"/").concat(r),e.next=4,H(a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getPredictionsByMatch:function(){var e=Object(A.a)(I.a.mark((function e(t){var n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(G,"/predictions/").concat(t),e.next=3,H(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),doPrediction:function(){var e=Object(A.a)(I.a.mark((function e(t){var n,r,a,c,i;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.matchId,r=t.userId,a=t.prediction,c="".concat(G,"/predictions"),e.next=4,fetch(c,{method:"POST",body:JSON.stringify({matchId:n,userId:r,prediction:a}),headers:{"Content-Type":"application/json;charset=utf-8"}});case 4:return i=e.sent,e.abrupt("return",i.json());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getUser:function(){var e=Object(A.a)(I.a.mark((function e(t){var n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(G,"/users/").concat(t),e.next=3,H(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),registerUser:function(){var e=Object(A.a)(I.a.mark((function e(t){var n,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(G,"/users/").concat(t),e.next=3,fetch(n,{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"}});case 3:return r=e.sent,e.next=6,r.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),addWidget:function(){var e=Object(A.a)(I.a.mark((function e(t){var n,r,a,c,i,o,s,u,d,l,f;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.user_id,r=t.group_id,a=t.app_id,c=t.access_token,i=t.v,o=t.site_type,s=t.tournament_id,u=t.league_id,d=t.type,l="".concat(G,"/widgets"),e.next=4,fetch(l,{method:"PUT",body:JSON.stringify({user_id:n,group_id:r,app_id:a,access_token:c,v:i,site_type:o,tournament_id:s,league_id:u,type:d}),headers:{"Content-Type":"application/json;charset=utf-8"}});case 4:return f=e.sent,e.next=7,f.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},R=Object(l.b)("tournaments/request",N.getTournaments),W=Object(l.c)({name:"tournaments",initialState:{loading:!1,error:!1,cities:[]},reducers:{toggleCollapse:function(e,t){e.cities=e.cities.map((function(e,n){return n===t.payload?Object(C.a)(Object(C.a)({},e),{},{collapsed:!e.collapsed}):e}))}},extraReducers:function(e){e.addCase(R.pending,(function(e){e.loading=!0,e.error=!1})).addCase(R.rejected,(function(e){e.loading=!1,e.error=!0})).addCase(R.fulfilled,(function(e,t){e.loading=!1,e.error=!1,e.cities=t.payload.map((function(e){return Object(C.a)(Object(C.a)({},e),{},{collapsed:!0})}))}))}}),E=(W.actions.toggleCollapse,W.reducer),P=Object(l.b)("tournament/request",N.getTournament),V=Object(l.c)({name:"tournament",initialState:{loading:!1,error:!1,activeTournamentName:"",activeTournamentCity:"",activeSiteType:0,activeVkHref:"",activeTournament:null,activeTab:0},reducers:{setActiveTournament:function(e,t){var n=t.payload;e.activeTournamentName=n.name,e.activeSiteType=n.siteType,e.activeVkHref=n.vkHref,e.activeTournamentCity=n.city,e.activeDivisionId=n.divisionId},clearActiveTournament:function(e){e.activeTournament=null,e.activeTournamentName=""},setActiveTab:function(e,t){e.activeTab=t.payload},setEditedGame:function(e,t){var n=t.payload,r=n.matchHref,a=n.score;e.activeTournament.calendar=e.activeTournament.calendar.map((function(e){return e.matchHref===r?Object(C.a)(Object(C.a)({},e),{},{score:a}):e}))}},extraReducers:function(e){e.addCase(P.pending,(function(e){e.loading=!0,e.error=!1})).addCase(P.rejected,(function(e){e.loading=!1,e.error=!0})).addCase(P.fulfilled,(function(e,t){e.loading=!1,e.error=!1;var n=t.payload;e.activeTournament=n}))}}),B=V.actions,K=B.clearActiveTournament,L=B.setActiveTournament,F=B.setActiveTab,z=B.setEditedGame,q=V.reducer,M=Object(l.b)("squad/request",(function(e){var t=e.tournamentId,n=e.clubId;return N.getSquads({tournamentId:t,clubId:n})})),D=Object(l.c)({name:"team",initialState:{loading:!1,error:!1,activeTeam:null,activeTeamSquad:[],teamHistory:[],activeTab:0},reducers:{setActiveTeam:function(e,t){e.activeTeam=t.payload},clearActiveteam:function(e){e.activeTeam=null,e.activeTeamSquad=[]},goForwardToTeam:function(e){e.teamHistory.push(e.activeTeam)},goBackToTeam:function(e){if(0!==e.teamHistory.length){var t=e.teamHistory.pop();e.activeTeam=t}},setActiveTab:function(e,t){e.activeTab=t.payload}},extraReducers:function(e){e.addCase(M.pending,(function(e){e.loading=!0,e.error=!1})).addCase(M.rejected,(function(e){e.loading=!1,e.error=!0})).addCase(M.fulfilled,(function(e,t){e.loading=!1,e.error=!1;var n=t.payload;e.activeTeamSquad=n}))}}),U=D.actions,J=U.clearActiveteam,Q=U.setActiveTeam,X=U.setActiveTab,Y=U.goForwardToTeam,Z=U.goBackToTeam,$=D.reducer,ee={loading:!1,error:!1,activeGameEvents:null,activeGameInfo:{awayHref:"",awayLogo:"",awayName:"",date:"-",homeHref:"",homeLogo:"",homeName:"",matchHref:"",place:"-",score:"-:-",time:"-",tour:1},gameHistory:[]},te=Object(l.b)("game/request",(function(e){return N.getGames(e)})),ne=Object(l.c)({name:"game",initialState:ee,reducers:{setActiveGameInfo:function(e,t){e.activeGameInfo=t.payload},clearActiveGame:function(e){e.activeGameInfo=ee.activeGameInfo,e.activeGameEvents=null},goForwardToGame:function(e){e.gameHistory.push({activeGameEvents:e.activeGameEvents,activeGameInfo:e.activeGameInfo})},goBackToGame:function(e){if(0!==e.gameHistory.length){var t=e.gameHistory.pop();e.activeGameEvents=t.activeGameEvents,e.activeGameInfo=t.activeGameInfo}}},extraReducers:function(e){e.addCase(te.pending,(function(e){e.loading=!0,e.error=!1})).addCase(te.rejected,(function(e){e.loading=!1,e.error=!0})).addCase(te.fulfilled,(function(e,t){e.loading=!1,e.error=!1;var n=t.payload;e.activeGameEvents=n,e.activeGameEvents.events.sort((function(e,t){return e.minute-t.minute}))}))}}),re=ne.actions,ae=re.setActiveGameInfo,ce=re.goBackToGame,ie=re.goForwardToGame,oe=re.clearActiveGame,se=ne.reducer,ue=Object(l.b)("user/request",function(){var e=Object(A.a)(I.a.mark((function e(t){var n,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.getUser(t);case 2:if(!(n=e.sent)){e.next=5;break}return e.abrupt("return",n);case 5:return e.next=7,N.registerUser(t);case 7:return r=e.sent,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),de=Object(l.c)({name:"user",initialState:{loading:!1,error:!1,user:null},reducers:{addPrediction:function(e,t){e.user.predictions.push(t.payload)}},extraReducers:function(e){e.addCase(ue.pending,(function(e){e.loading=!0,e.error=!1})).addCase(ue.rejected,(function(e){e.loading=!1,e.error=!0})).addCase(ue.fulfilled,(function(e,t){e.loading=!1,e.error=!1,e.user=t.payload}))}}),le=(de.actions.addPrediction,de.reducer),fe=Object(l.b)("predictions/get",(function(e){return N.getPredictionsByMatch(e)})),je=Object(l.b)("predictions/do",(function(e){var t=e.matchId,n=e.userId,r=e.prediction;return N.doPrediction({matchId:t,userId:n,prediction:r})})),me=Object(l.c)({name:"predictions",initialState:{loading:!1,error:!1,predictionsInfo:null},reducers:{clearPredictionsInfo:function(e){e.predictionsInfo=null}},extraReducers:function(e){e.addCase(fe.pending,(function(e){e.loading=!0,e.error=!1})).addCase(fe.rejected,(function(e){e.loading=!1,e.error=!0})).addCase(fe.fulfilled,(function(e,t){e.loading=!1,e.error=!1,e.predictionsInfo=t.payload})).addCase(je.pending,(function(e){e.loading=!0,e.error=!1})).addCase(je.rejected,(function(e){e.loading=!1,e.error=!0})).addCase(je.fulfilled,(function(e,t){e.loading=!1,e.error=!1}))}}),be=me.actions.clearPredictionsInfo,pe=me.reducer,he=Object(l.c)({name:"league",initialState:{activeLeague:null},reducers:{setActiveLeague:function(e,t){e.activeLeague=t.payload}}}),ve=he.actions.setActiveLeague,ge=he.reducer,Oe=Object(l.b)("games/edit/request",(function(e){return N.editScore(e)})),xe=Object(l.c)({name:"modal",initialState:{activeModal:null,activeGame:null,loading:!1,error:!1},reducers:{setActiveModal:function(e,t){e.activeModal=t.payload},setActiveGame:function(e,t){e.activeGame=t.payload}},extraReducers:function(e){e.addCase(Oe.pending,(function(e){e.loading=!0,e.error=!1})).addCase(Oe.rejected,(function(e){e.loading=!1,e.error=!0})).addCase(Oe.fulfilled,(function(e,t){e.loading=!1,e.error=!1,e.activeModal=null}))}}),ye=xe.actions,we=ye.setActiveModal,ke=ye.setActiveGame,Te=xe.reducer,_e=Object(f.c)({navigation:_,tournaments:E,tournament:q,team:$,game:se,user:le,predictions:pe,league:ge,modal:Te}),Ce=Object(l.a)({reducer:_e}),Se=function(){return Object(d.b)()},Ie=Ce,Ae=n(4),Ge=n(16),He=function(e){var t=e.logo,n=e.title,a=e.city,c=e.href,i=e.hrefText;return Object(r.jsxs)(Ae.h,{style:{display:"flex",marginTop:12},children:[t&&Object(r.jsx)(Ae.b,{mode:"image",size:74,src:t}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{style:{padding:0,margin:0,marginLeft:t?8:0},children:n}),Object(r.jsx)("h5",{style:{padding:0,margin:0,marginTop:4,marginLeft:t?8:0,color:"gray"},children:a}),c&&Object(r.jsx)(Ae.m,{target:"_blank",style:{marginLeft:t?8:0},href:c,children:i})]})]})},Ne=n(128),Re=(n(122),function(e){var t=e.background,n=void 0===t?"#76787a":t,a=e.children;return Object(r.jsx)("div",{className:"score",style:{background:n},children:a})}),We=function(e){var t=e.games,n=e.header,a=e.teamHref,c=e.editable,i=void 0!==c&&c,o=e.onGoToGame;return Object(r.jsx)(Ae.j,{header:n&&Object(r.jsx)(Ae.k,{children:n}),children:t.map((function(e,t){var n="";if(a){var c={win:"var(--button_commerce_background)",draw:"orange",lose:"var(--button_secondary_destructive_foreground)"},s=e.score.split(":").map((function(e){return+e})),u=Object(Ge.a)(s,2),d=u[0],l=u[1];n=d>l?a===e.homeHref?c.win:c.lose:d<l?a===e.homeHref?c.lose:c.win:c.draw}var f=!0;if("-"!==e.date){var j=e.date.split(" ")[0].split(".").map((function(e){return+e})),m=Object(Ge.a)(j,2),b=m[0],p=m[1],h=new Date(2021,p-1,b);f=Date.now()>=h.getTime()}else f=!1;return Object(r.jsx)(Ae.e,{disabled:!o||"-"===e.date&&!e.score||i&&!!e.score||i&&!f,before:Object(r.jsxs)("div",{style:{display:"flex",marginRight:8},children:[Object(r.jsx)(Ae.b,{mode:"image",src:e.homeLogo}),Object(r.jsx)(Ae.b,{mode:"image",src:e.awayLogo})]}),after:i&&"-"!==e.date&&e.time&&!e.score&&f?Object(r.jsx)(Ne.a,{}):e.score&&Object(r.jsx)(Re,{background:n,children:e.score}),description:e.date&&"-"!==e.date&&Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{children:[e.date,", ",e.time]}),"-"!==e.place&&Object(r.jsx)("div",{children:e.place})]}),onClick:function(){return o&&o(e)},children:Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{children:e.homeName}),Object(r.jsx)("div",{children:e.awayName})]})},t)}))})},Ee=(n(123),function(e){var t=e.n,n=e.isHeader,a=e.isDark,c=e.photo,i=e.colors,o=e.values,s=e.title,u=e.description,d=e.onClick;return Object(r.jsx)(Ae.e,{style:{fontWeight:n?"bold":"normal",background:a?"var(--background_keyboard)":"",marginBottom:4},before:c&&Object(r.jsxs)("div",{className:"photo",children:[t&&Object(r.jsx)("div",{className:"photo__place",children:t}),Object(r.jsx)(Ae.b,{mode:"image",src:c})]}),after:Object(r.jsx)("div",{style:{padding:4,display:"flex"},children:o.map((function(e,t){return Object(r.jsx)("div",{style:{color:i[t],marginRight:4,width:14,textAlign:"center",fontSize:14},children:e},t)}))}),disabled:!d,onClick:d,description:u,children:s})}),Pe=function(e){var t={};return e.forEach((function(e){t[e.tour]||(t[e.tour]=[]),t[e.tour].push(e)})),t},Ve=["\u0422\u0430\u0431\u043b\u0438\u0446\u0430","\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435","\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b"],Be=function(e){var t=e.id,n=Object(d.b)(),a=Object(d.c)((function(e){return e.tournament})),c=a.activeTournament,i=a.activeTournamentName,o=a.activeTournamentCity,s=a.activeTab,u=a.activeSiteType,l=function(e){console.log(e),("-"!==e.date||e.score)&&(n(ae(e)),n(k(b)))},f=function(e){console.log("GAME : ",e),n(ke(e)),n(we(g))};return Object(r.jsxs)(Ae.s,{id:t,children:[Object(r.jsx)(Ae.t,{left:Object(r.jsx)(Ae.u,{onClick:function(){n(w()),n(K()),n(F(0))}}),children:"\u0422\u0443\u0440\u043d\u0438\u0440"}),Object(r.jsx)(He,{hrefText:"\u0421\u0430\u0439\u0442",href:0===u?"https://lfl.ru/tournament".concat(null===c||void 0===c?void 0:c.tournamentId):"https://www.goalstream.org/season/".concat(null===c||void 0===c?void 0:c.tournamentId),title:i,city:o}),Object(r.jsx)(Ae.l,{children:Object(r.jsx)(Ae.B,{mode:"buttons",children:Ve.map((function(e,t){return Object(r.jsx)(Ae.C,{selected:s===t,onClick:function(){return n(F(t))},children:e},t)}))})}),0===s&&c&&Object(r.jsxs)(Ae.n,{children:[Object(r.jsx)(Ee,{isHeader:!0,title:"\u041a\u043e\u043c\u0430\u043d\u0434\u0430",values:["\u0418","\u0412","\u041d","\u041f","\u041e"],colors:["","green","orange","red"]}),c.table.map((function(e,t){return""===e.title?null:e.title?Object(r.jsx)(Ae.e,{disabled:!0,style:{fontWeight:"bold"},children:e.title},t):Object(r.jsx)(Ee,{n:e.place,title:e.name,photo:e.logo,onClick:function(){return function(e){n(Q(e)),n(k(p))}(e)},values:[e.win+e.draw+e.lose,e.win,e.draw,e.lose,e.points].map((function(e){return""+e})),colors:["","green","orange","red"],isDark:t%2===0},t)}))]}),1===s&&c&&Object.entries(Pe(c.calendar)).map((function(e,t){var n=Object(Ge.a)(e,2),a=n[0],c=n[1];return Object(r.jsx)(We,{header:"".concat(a).concat(0===u?" \u0422\u0423\u0420":""),games:c,editable:!0,onGoToGame:f},t)})),2===s&&c&&Object.entries(Pe(c.results)).reverse().map((function(e,t){var n=Object(Ge.a)(e,2),a=n[0],c=n[1];return Object(r.jsx)(We,{header:"".concat(a).concat(0===u?" \u0422\u0423\u0420":""),games:c,onGoToGame:l},t)}))]})},Ke=["\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435","\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b"],Le=function(e){var t=e.id,n=Object(d.b)(),a=Object(d.c)((function(e){return e.team})),c=a.activeTeam,i=a.activeTab,o=Object(d.c)((function(e){return e.navigation})).history,s=Object(d.c)((function(e){return e.tournament})),u=s.activeTournament,l=s.activeTournamentCity;return Object(r.jsxs)(Ae.s,{id:t,children:[Object(r.jsx)(Ae.t,{left:Object(r.jsx)(Ae.u,{onClick:function(){"game"===o[o.length-2]&&n(ce()),n(w()),n(J())}}),children:"\u041a\u043e\u043c\u0430\u043d\u0434\u0430"}),c&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(He,{logo:c.logo,title:c.name,city:l}),Object(r.jsx)(Ae.l,{children:Object(r.jsx)(Ae.B,{mode:"buttons",children:Ke.map((function(e,t){return Object(r.jsx)(Ae.C,{selected:i===t,onClick:function(){return n(X(t))},children:e},t)}))})})]}),0===i&&c&&Object(r.jsx)(We,{games:u.calendar.filter((function(e){return e.homeHref===c.href||e.awayHref===c.href}))}),1===i&&c&&Object(r.jsx)(We,{teamHref:c.href,games:u.results.filter((function(e){return e.homeHref===c.href||e.awayHref===c.href})),onGoToGame:function(e){("-"!==e.date||e.score)&&(n(Y()),n(ae(e)),n(k(b)))}})]})},Fe=(n(124),function(e){var t=e.home,n=e.away,a=e.score;e.onGoToTeam;return Object(r.jsxs)(Ae.h,{className:"game-header__container",children:[Object(r.jsxs)("div",{className:"game-header__item",children:[Object(r.jsx)(Ae.b,{size:82,mode:"image",src:t.logo}),Object(r.jsx)("div",{style:{textAlign:"center"},children:t.name})]}),Object(r.jsx)("div",{className:"game-header__item",style:{fontSize:24},children:a}),Object(r.jsxs)("div",{className:"game-header__item",children:[Object(r.jsx)(Ae.b,{size:82,mode:"image",src:n.logo}),Object(r.jsx)("div",{style:{textAlign:"center"},children:n.name})]})]})}),ze=(n(125),n(129)),qe=n(130),Me=n(131),De=function(e){var t=e.date,n=e.refery,a=e.place;return Object(r.jsx)(Ae.l,{style:{marginBottom:20},children:Object(r.jsxs)(Ae.B,{mode:"buttons",children:[t&&Object(r.jsxs)(Ae.C,{selected:!0,className:"game-info__item",children:[Object(r.jsx)(ze.a,{}),Object(r.jsx)("div",{children:t})]}),a&&Object(r.jsxs)(Ae.C,{selected:!0,className:"game-info__item",children:[Object(r.jsx)(qe.a,{}),Object(r.jsx)("div",{children:a})]}),n&&Object(r.jsxs)(Ae.C,{selected:!0,className:"game-info__item",children:[Object(r.jsx)(Me.a,{}),Object(r.jsx)("div",{children:n})]})]})})},Ue=(n(126),function(e){var t=e.isHome,n=e.playerName,a=e.eventType,c=e.minute;return Object(r.jsx)("div",{className:"events__row",children:n.includes("(\u0430\u0433)")?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"events__player",children:[0!==c&&t?c:"",!t&&n]}),Object(r.jsx)("div",{className:"events__type",children:a}),Object(r.jsxs)("div",{className:"events__player",children:[t&&n,0===c||t?"":c]})]}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"events__player",children:[0===c||t?"":c,t&&n]}),Object(r.jsx)("div",{className:"events__type",children:a}),Object(r.jsxs)("div",{className:"events__player",children:[!t&&n,0!==c&&t?c:""]})]})})}),Je=function(e){var t=e.id,n=Se(),a=Object(d.c)((function(e){return e.navigation})).history,i=Object(d.c)((function(e){return e.game})),o=i.activeGameInfo,s=i.activeGameEvents,u=i.loading,l=i.error,f=Object(d.c)((function(e){return e.tournament})),j=f.activeTournament,m=f.activeSiteType,b=f.activeDivisionId,h=Object(d.c)((function(e){return e.user})).user,v=c.a.useState(0),g=Object(Ge.a)(v,1)[0],O=c.a.useState(null),x=Object(Ge.a)(O,2)[1],y=function(e,t){var n=Date.now(),r=Object(Ge.a)(e,3),a=r[0],c=r[1],i=r[2],o=Object(Ge.a)(t,2),s=o[0],u=o[1];return n<=new Date(i,c-1,a,s,u).getTime()}(o.date.split(" ")[0].split(".").map((function(e){return+e})),o.time.split(":").map((function(e){return+e})));c.a.useEffect((function(){if(!s){if(o.matchHref.includes("/empty_protocol")){var e=+o.matchHref.replace("/match","").replace("/empty_protocol",""),t=h.predictions.find((function(t){return t.matchId===e}));return t&&x(t.prediction),void(y&&!t||n(fe(e)))}var r=0===m?b?"/division".concat(b,"/tour").concat(o.tour):"/tournament".concat(j.tournamentId,"/tour").concat(o.tour):o.matchHref,a=0===m?o.matchHref.replace("/match",""):"",c=n(te({postfix:r,siteType:m,matchId:a}));return function(){c.abort()}}}),[]);var T={name:o.homeName,href:o.homeHref,logo:o.homeLogo},_={name:o.awayName,href:o.awayHref,logo:o.awayLogo};return Object(r.jsxs)(Ae.s,{id:t,children:[Object(r.jsx)(Ae.t,{left:Object(r.jsx)(Ae.u,{onClick:function(){"team"===a[a.length-2]&&n(Z()),n(w()),n(oe()),n(be())}}),children:"\u041c\u0430\u0442\u0447"}),Object(r.jsx)(Fe,{home:T,away:_,score:o.score?o.score:"-:-",onGoToTeam:function(e){n(ie()),n(Q(e)),n(k(p)),n(oe()),n(be())}}),Object(r.jsx)(De,{date:"-"!==o.date?"".concat(o.date,", ").concat(o.time):null,refery:s&&"-"!==s.refery?s.refery:null,place:s&&"-"!==s.place?s.place:null}),l&&Object(r.jsxs)(Ae.w,{children:["\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043d\u0430",Object(r.jsx)(Ae.m,{href:0===m?b?"https://www.lfl.ru/division".concat(b,"/tour").concat(o.tour):"https://www.lfl.ru/tournament".concat(j.tournamentId,"/tour").concat(o.tour):"http://www.goalstream.org".concat(o.matchHref),children:"\xa0\u0441\u0430\u0439\u0442\u0435"})]}),s&&0===s.events.length&&Object(r.jsx)(Ae.w,{children:"\u041d\u0435\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438"}),u&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Ae.h,{children:Object(r.jsx)(Ae.A,{})}),Object(r.jsx)(Ae.w,{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0437\u0430\u0439\u043c\u0435\u0442 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u0432\u0440\u0435\u043c\u044f. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435"})]}),!u&&0===g&&s&&s.events.map((function(e,t){var n="";return n="goal"===e.type?"\u26bd":"assist"===e.type?"\u2705":"yc"===e.type?"\ud83d\udfe8":"\ud83d\udfe5",Object(r.jsx)(Ue,{playerName:e.name,eventType:n,isHome:0===e.team,minute:e.minute},t)}))]})},Qe=n(137),Xe=n(138),Ye=n(132),Ze=n(133),$e=n(134),et=n(135),tt=n(136),nt=202380422,rt="https://vk.com/club".concat(nt),at=function(e){var t=e.openSnackbar,n=window.location.href.includes("mobile_android");return Object(r.jsx)(Ae.h,{children:Object(r.jsxs)(Ae.d,{children:[Object(r.jsx)(Ae.f,{before:Object(r.jsx)(Ye.a,{style:{marginRight:8}}),onClick:function(){var e=document.createElement("a");e.href=rt,e.target="_blank",e.click(),e.remove()},after:Object(r.jsx)(Ze.a,{onClick:function(e){e.stopPropagation(),e.preventDefault(),u.a.send("VKWebAppJoinGroup",{group_id:nt}).then((function(e){return t("\u0412\u044b \u0432\u0441\u0442\u0443\u043f\u0438\u043b\u0438. \u0421\u043f\u0430\u0441\u0438\u0431\u043e!")})).catch((function(e){return e}))}}),children:"\u0413\u0440\u0443\u043f\u043f\u0430 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f"}),Object(r.jsx)(Ae.f,{before:Object(r.jsx)($e.a,{style:{marginRight:8}}),onClick:function(){u.a.send("VKWebAppAddToFavorites").then((function(e){return t("\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e !")})).catch((function(e){return e}))},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"}),Object(r.jsx)(Ae.f,{before:Object(r.jsx)(et.a,{style:{marginRight:8}}),onClick:function(){u.a.send("VKWebAppShare").then((function(e){return e})).catch((function(e){return e}))},children:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f"}),n&&Object(r.jsx)(Ae.f,{onClick:function(){u.a.send("VKWebAppAddToHomeScreen").then((function(e){return t("\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e !")})).catch((function(e){return e}))},before:Object(r.jsx)(tt.a,{style:{marginRight:8}}),children:"\u041d\u0430 \u0434\u043e\u043c. \u044d\u043a\u0440\u0430\u043d"})]})})},ct=202380422,it=("https://vk.com/club".concat(ct),function(e){var t=e.id,n=e.cities,a=(window.location.href.includes("mobile_android"),Object(d.b)()),i=c.a.useState(null),o=Object(Ge.a)(i,2),s=o[0],u=o[1],l=function(e){u(Object(r.jsx)(Ae.z,{before:Object(r.jsx)(Ae.b,{size:24,style:{backgroundColor:"var(--accent)"},children:Object(r.jsx)(Qe.a,{fill:"#fff",width:14,height:14})}),onClose:function(){return u(null)},children:e}))};return Object(r.jsxs)(Ae.s,{id:t,children:[Object(r.jsx)(Ae.t,{separator:!1,children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(r.jsx)(Ae.k,{style:{marginTop:8},children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"}),Object(r.jsx)(at,{openSnackbar:l}),Object(r.jsx)(Ae.k,{children:"\u0422\u0443\u0440\u043d\u0438\u0440\u044b"}),n.map((function(e,t){return Object(r.jsx)(Ae.h,{style:{paddingBottom:t===n.length-1?12:0},children:Object(r.jsx)(Ae.d,{children:Object(r.jsx)(Ae.e,{before:Object(r.jsx)(Ae.b,{size:32,mode:"image",src:e.tournaments[0].logo}),after:Object(r.jsx)(Xe.a,{}),onClick:function(){return t=e,a(k(h)),void a(ve(t));var t},children:e.title})})},t)})),s]})}),ot=n(139),st=n(140),ut=n(141),dt=n(142),lt=function(e){var t=e.id,n=Object(d.b)(),a=Object(d.c)((function(e){return e.league})).activeLeague,i=(Object(d.c)((function(e){return e.user})).user,function(){n(w())}),o=c.a.useState(null),s=Object(Ge.a)(o,2),l=s[0],f=s[1],j=function(e){f(Object(r.jsx)(Ae.z,{before:Object(r.jsx)(Ae.b,{size:24,style:{backgroundColor:"var(--accent)"},children:Object(r.jsx)(Qe.a,{fill:"#fff",width:14,height:14})}),onClose:function(){return f(null)},children:e}))},b=c.a.useState(!1),p=Object(Ge.a)(b,2),h=p[0],g=p[1];c.a.useEffect((function(){(function(){var e=Object(A.a)(I.a.mark((function e(){var t,n,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.send("VKWebAppStorageGet",{keys:["favorite"]});case 3:t=e.sent,n=t.keys,r=n.find((function(e){return"favorite"===e.key})),g(!!r&&r.value==="league".concat(a.id)),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var O=function(){var e=Object(A.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.send("VKWebAppStorageSet",{key:"favorite",value:h?"":"league".concat(a.id)});case 3:g(!h),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(r.jsxs)(Ae.s,{id:t,children:[Object(r.jsx)(Ae.t,{left:Object(r.jsx)(Ae.u,{onClick:i}),children:"\u041b\u0438\u0433\u0430"}),a?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(He,{href:a.vkHref,hrefText:"\u0413\u0440\u0443\u043f\u043f\u0430",logo:a.tournaments[0].logo,title:a.title}),Object(r.jsx)(Ae.h,{style:{paddingBottom:0},children:Object(r.jsx)(Ae.d,{children:a.tournaments.map((function(e,t){return Object(r.jsx)(Ae.e,{after:Object(r.jsx)(Xe.a,{}),onClick:function(){return function(e){n(k(m)),n(L(e)),n(P({tournamentId:+e.id,siteType:e.siteType}))}(e)},children:e.name},t)}))})}),Object(r.jsx)(at,{openSnackbar:j}),Object(r.jsx)(Ae.h,{style:{paddingTop:0},children:Object(r.jsxs)(Ae.d,{children:[Object(r.jsx)(Ae.f,{style:{color:h?"red":"orange"},before:h?Object(r.jsx)(st.a,{style:{marginRight:8,color:"red"}}):Object(r.jsx)(ot.a,{style:{marginRight:8,color:"orange"}}),onClick:O,children:h?"\u041d\u0435 \u043e\u0442\u043a\u0440\u044b\u0432\u0430\u0442\u044c \u0441\u0440\u0430\u0437\u0443 \u044d\u0442\u0443 \u043b\u0438\u0433\u0443":"\u041e\u0442\u043a\u0440\u044b\u0432\u0430\u0442\u044c \u0441\u0440\u0430\u0437\u0443 \u044d\u0442\u0443 \u043b\u0438\u0433\u0443"}),Object(r.jsx)(Ae.f,{before:Object(r.jsx)(ut.a,{style:{marginRight:8}}),onClick:function(){u.a.send("VKWebAppCopyText",{text:"https://vk.com/app7746401#league".concat(a.id)}).then((function(e){return j("\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043e")})).catch((function(e){return e}))},description:"\u041f\u0440\u044f\u043c\u0430\u044f \u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u044d\u0442\u0443 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443",children:"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u043b\u0438\u0433\u0443"}),Object(r.jsx)(Ae.f,{before:Object(r.jsx)(dt.a,{style:{marginRight:8}}),onClick:function(){n(k(v))},description:"\u0414\u043b\u044f \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u043e\u0432 \u0433\u0440\u0443\u043f\u043f",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u0438\u0434\u0436\u0435\u0442 \u0432 \u0433\u0440\u0443\u043f\u043f\u0443"})]})})]}):Object(r.jsxs)(Ae.w,{children:["\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043d\u0430\u0439\u0442\u0438 \u0442\u0443\u0440\u043d\u0438\u0440 \u0432",Object(r.jsx)("span",{style:{color:"var(--accent)"},onClick:i,children:" \u0441\u043f\u0438\u0441\u043a\u0435"})]}),l]})},ft=n(143),jt=7746401,mt="5.126",bt=[{id:"table",name:"\u0422\u0430\u0431\u043b\u0438\u0446\u0430"},{id:"matches",name:"\u041c\u0430\u0442\u0447\u0438"}],pt=function(e){var t=e.id,n=Object(d.b)(),a=Object(d.c)((function(e){return e.user})).user,i=Object(d.c)((function(e){return e.league})).activeLeague,o=c.a.useState(0),s=Object(Ge.a)(o,2),l=s[0],f=s[1],j=c.a.useState(!1),m=Object(Ge.a)(j,2),b=m[0],p=m[1],h=c.a.useState(""),v=Object(Ge.a)(h,2),g=v[0],O=v[1],x=c.a.useState(null),y=Object(Ge.a)(x,2),k=y[0],T=y[1],_=c.a.useState(+i.tournaments[0].id),C=Object(Ge.a)(_,2),S=C[0],H=C[1],R=c.a.useState(i.tournaments[0].siteType),W=Object(Ge.a)(R,2),E=W[0],P=W[1],V=c.a.useState([]),B=Object(Ge.a)(V,2),K=B[0],L=B[1],F=c.a.useState(""),z=Object(Ge.a)(F,2),q=z[0],M=z[1],D=c.a.useState(bt[0].id),U=Object(Ge.a)(D,2),J=U[0],Q=U[1],X=function(){var e=Object(A.a)(I.a.mark((function e(){var t,n,r,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,u.a.send("VKWebAppGetAuthToken",{app_id:jt,scope:"groups"});case 4:return t=e.sent,n=t.access_token,e.next=8,u.a.send("VKWebAppCallAPIMethod",{method:"groups.get",params:{user_id:a.id,filter:"admin",extended:1,fields:"name",access_token:n,v:mt}});case 8:r=e.sent,p(!1),0===(c=r.response.items).length?(O("\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0435\u043c\u044b\u0445 \u0433\u0440\u0443\u043f\u043f"),f(-1)):(L(c),T(c[0].id),f((function(e){return e+1}))),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.log("ERROR : ",e.t0,e.t0.error_data),O("");case 18:return e.prev=18,p(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[0,14,18,21]])})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(A.a)(I.a.mark((function e(){var t,n,r,c,o,s,d,l,j,m,b,h;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.prev=1,e.next=4,N.getTournament({tournamentId:S,siteType:E});case 4:if(t=e.sent,n="https://vk.com/app7746401#league".concat(null===i||void 0===i?void 0:i.id),"matches"!==J){e.next=16;break}return r=function(e){var t=e.date,n=e.home,r=e.away,a=e.score;return{state:t,team_a:{name:n},team_b:{name:r},score:{team_a:a[0],team_b:a[1]}}},c=0!==t.calendar.length?t.calendar.slice(0,4):t.results.slice(0,4),o=c.map((function(e){var t=e.score?e.score.split(":").map((function(e){return+e})):[0,0],a=e.date&&"-"!==e.date?"".concat(e.date.replace(".2021","").replace(".2020","").replace(" ","")).concat(e.time?", ".concat(e.time):""):e.score?"\u0418\u0442\u043e\u0433":"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043d\u0435\u0442";return r({date:a,home:e.homeName,away:e.awayName,score:t,url:n})})),s=JSON.stringify({title:"\u041c\u0430\u0442\u0447\u0438",title_url:n,more:"\u0412\u0435\u0441\u044c \u0441\u043f\u0438\u0441\u043e\u043a",more_url:n,matches:o}),d="return ".concat(s,";"),e.next=14,u.a.send("VKWebAppShowCommunityWidgetPreviewBox",{group_id:k,type:"matches",code:d});case 14:e.next=23;break;case 16:if("table"!==J){e.next=23;break}return l=[{text:"\u041a\u043e\u043c\u0430\u043d\u0434\u0430",align:"left"},{text:"\u0412",align:"right"},{text:"\u041d",align:"right"},{text:"\u041f",align:"right"},{text:"\u041e",align:"right"}],j=t.table.slice(0===E?0:1,11-(0===E?1:0)).map((function(e){return["name","win","draw","lose","points"].map((function(t){return{text:""+e[t]}}))})),m={title:"\u0422\u0430\u0431\u043b\u0438\u0446\u0430",title_url:n,more:"\u0412\u0435\u0441\u044c \u0441\u043f\u0438\u0441\u043e\u043a",more_url:n,head:l,body:j},b="return ".concat(JSON.stringify(m),";"),e.next=23,u.a.send("VKWebAppShowCommunityWidgetPreviewBox",{group_id:k,type:"table",code:b});case 23:return e.next=25,N.addWidget({user_id:a.id,group_id:k,app_id:jt,access_token:q,v:mt,league_id:i.id,tournament_id:S,site_type:i.tournaments[0].siteType,type:J});case 25:f((function(e){return e+1})),e.next=32;break;case 28:e.prev=28,e.t0=e.catch(1),console.log("ERROR : ",e.t0,e.t0.error_data),O("");case 32:return e.prev=32,p(!1),e.finish(32);case 35:return h="".concat(G,"/widgets/update/").concat(k),e.next=38,fetch(h,{method:"PUT"});case 38:case"end":return e.stop()}}),e,null,[[1,28,32,35]])})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(A.a)(I.a.mark((function e(){var t,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.send("VKWebAppGetCommunityToken",{app_id:jt,group_id:k,scope:"app_widget"});case 3:t=e.sent,n=t.access_token,M(n),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("ERROR : ",e.t0,e.t0.error_data),O("");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(A.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.send("VKWebAppAddToCommunity");case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("Error : ",e.t0,e.t0.error_data),O("");case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return Object(r.jsxs)(Ae.s,{id:t,children:[Object(r.jsx)(Ae.t,{left:Object(r.jsx)(Ae.u,{onClick:function(){n(w())}}),children:"\u0412\u0438\u0434\u0436\u0435\u0442"}),b&&Object(r.jsx)(Ae.h,{style:{marginTop:28},children:Object(r.jsx)(Ae.A,{})}),g&&Object(r.jsx)("h1",{children:"Error :("}),0===l&&!b&&Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(Ae.w,{action:Object(r.jsx)(Ae.c,{onClick:X,mode:"tertiary",children:"\u0417\u0430\u043f\u0440\u043e\u0441\u0438\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u044b"}),children:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443, \u0432 \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0431\u0443\u0434\u0435\u0442 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d \u0432\u0438\u0434\u0436\u0435\u0442. \u0414\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0441\u043f\u0438\u0441\u043a\u0430 \u0433\u0440\u0443\u043f\u043f \u043f\u043e\u043d\u0430\u0434\u043e\u0431\u0438\u0442\u0441\u044f \u0442\u043e\u043a\u0435\u043d \u0434\u043e\u0441\u0442\u0443\u043f\u0430."})}),1===l&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Ae.i,{top:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u0440\u0443\u043f\u043f\u0443",children:Object(r.jsx)(Ae.r,{onChange:function(e){M(""),T(+e.currentTarget.value)},children:K.map((function(e){return Object(r.jsx)("option",{value:e.id,children:e.name},e.id)}))})}),q?Object(r.jsx)("div",{style:{paddingLeft:12},children:"\u2705 \u0422\u043e\u043a\u0435\u043d \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d"}):Object(r.jsx)(Ae.c,{before:"\u274c",mode:"tertiary",style:{width:"100%",display:"flex",color:"var(--accent)"},size:"l",onClick:Z,children:"\u041f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0442\u043e\u043a\u0435\u043d"}),q&&Object(r.jsx)(Ae.h,{children:Object(r.jsx)(Ae.c,{style:{width:"100%"},size:"l",onClick:function(){return f((function(e){return e+1}))},children:"\u0414\u0430\u043b\u0435\u0435"})})]}),2===l&&!b&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Ae.i,{top:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043b\u0438\u0433\u0443 \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f",children:Object(r.jsx)(Ae.r,{onChange:function(e){var t=+e.currentTarget.value;H(t),P(i.tournaments.find((function(e){return+e.id===t})).siteType)},children:i.tournaments.map((function(e){return Object(r.jsx)("option",{value:e.id,children:e.name},e.id)}))})}),Object(r.jsx)(Ae.i,{top:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f \u0432\u0438\u0434\u0436\u0435\u0442\u0430",children:Object(r.jsx)(Ae.r,{onChange:function(e){Q(e.currentTarget.value)},children:bt.map((function(e){return Object(r.jsx)("option",{value:e.id,children:e.name},e.id)}))})}),Object(r.jsx)(Ae.c,{before:"\u26a0\ufe0f",mode:"tertiary",style:{width:"100%",display:"flex",color:"var(--accent)"},size:"l",onClick:$,children:"\u0423\u0431\u0435\u0434\u0438\u0442\u0435\u0441\u044c, \u0447\u0442\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e \u0432 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0435"}),Object(r.jsx)(Ae.h,{children:Object(r.jsx)(Ae.c,{style:{width:"100%"},size:"l",onClick:Y,children:"\u041f\u0440\u0435\u0434\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440"})})]}),3===l&&!b&&Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(Ae.w,{icon:Object(r.jsx)(ft.a,{fill:"green"}),children:["\u0412\u0438\u0434\u0436\u0435\u0442 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d ",Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),"\u26a0\ufe0f ",Object(r.jsx)("br",{}),"\u0412 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u043e\u043d \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u0442\u043e\u043b\u044c\u043a\u043e \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430\u043c \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430. \u0427\u0442\u043e\u0431\u044b \u043e\u0442\u043a\u0440\u044b\u0442\u044c \u0435\u0433\u043e \u0434\u043b\u044f \u0432\u0441\u0435\u0445, \u043f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u0441 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u0430 \u0432",Object(r.jsxs)(Ae.m,{target:"_blank",href:"https://vk.com/club".concat(k,"?act=apps"),children:[" \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e\u043c ",">"," \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f "]}),"\u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u043f\u043e\u043b\u0435 ",Object(r.jsx)("b",{children:"\u0412\u0438\u0434\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u0438\u0434\u0436\u0435\u0442\u0430 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f "})," \u0432 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 ",Object(r.jsx)("b",{children:"\u0432\u0441\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"})]})})]})},ht=function(){var e=Se(),t=Object(d.c)((function(e){return e.user})).user,n=Object(d.c)((function(e){return e.tournament})).activeTournament,a=Object(d.c)((function(e){return e.modal})),i=a.activeGame,o=a.activeModal,s=a.loading,l=c.a.useState(0),f=Object(Ge.a)(l,2),j=f[0],m=f[1],b=c.a.useState(0),p=Object(Ge.a)(b,2),h=p[0],v=p[1],O=function(){e(we(null))};return c.a.useEffect((function(){return u.a.send("VKWebAppDisableSwipeBack").then((function(e){return e})).catch((function(e){return e})),function(){u.a.send("VKWebAppEnableSwipeBack").then((function(e){return e})).catch((function(e){return e}))}}),[]),Object(r.jsx)(Ae.q,{activeModal:o,onClose:O,children:Object(r.jsxs)(Ae.o,{id:g,header:Object(r.jsx)(Ae.p,{right:Object(r.jsx)(Ae.v,{onClick:O,children:"\u0413\u043e\u0442\u043e\u0432\u043e"}),children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"}),children:[i&&Object(r.jsx)(Fe,{home:{name:i.homeName,href:i.homeHref,logo:i.homeLogo},away:{name:i.awayName,href:i.awayHref,logo:i.awayLogo},score:"".concat(j,":").concat(h)}),Object(r.jsxs)(Ae.h,{style:{display:"flex"},children:[Object(r.jsx)(Ae.i,{style:{flex:1},children:Object(r.jsx)(Ae.y,{disabled:s,step:1,min:0,max:20,value:j,onChange:function(e){return m(+e)}})}),Object(r.jsx)(Ae.i,{style:{flex:1},children:Object(r.jsx)(Ae.y,{disabled:s,step:1,min:0,max:20,value:h,onChange:function(e){return v(+e)}})})]}),Object(r.jsx)(Ae.h,{children:Object(r.jsx)(Ae.c,{disabled:s,style:{width:"100%"},size:"l",onClick:function(){e(Oe({userId:t.id,tournamentId:n.tournamentId,matchHref:i.matchHref,score:"".concat(j,":").concat(h)})).then((function(t){e(z({matchHref:i.matchHref,score:"".concat(j,":").concat(h)}))}))},after:s?Object(r.jsx)(Ae.A,{}):null,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})})},vt=function(){var e=Se(),t=Object(d.c)((function(e){return e.navigation})),n=t.activePanel,a=t.history,i=Object(d.c)((function(e){return e.tournaments})),o=i.loading,s=i.cities,l=Object(d.c)((function(e){return e.tournament})).loading,f=Object(d.c)((function(e){return e.user})).loading,g=Object(d.c)((function(e){return e.modal})).activeModal;c.a.useEffect((function(){var t=function(){var t=Object(A.a)(I.a.mark((function t(n){var r,a,c,i,o,s;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=window.location.hash,t.next=4,u.a.send("VKWebAppStorageGet",{keys:["favorite"]});case 4:a=t.sent,c=a.keys,i=c.find((function(e){return"favorite"===e.key})),r?(o=+r.slice(1).replace("league",""),e(ve(n.find((function(e){return e.id===o})))),e(T({activePanel:h,history:[j,h]}))):i&&""!==i.value&&(s=+i.value.replace("league",""),e(ve(n.find((function(e){return e.id===s})))),e(T({activePanel:h,history:[j,h]}))),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(0);case 12:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}();(function(){var n=Object(A.a)(I.a.mark((function n(){var r;return I.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.a.send("VKWebAppGetUserInfo");case 2:r=n.sent,e(ue(r.id)),e(R()).then((function(e){return t(e.payload)})),u.a.send("VKWebAppEnableSwipeBack").then((function(e){return e})).catch((function(e){return e}));case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}})()()}),[]);return Object(r.jsx)(Ae.g,{isWebView:!0,children:Object(r.jsx)(Ae.a,{children:Object(r.jsxs)(Ae.D,{activePanel:n,onSwipeBack:function(){var t=a[a.length-1],n=a[a.length-2];"team"===t?("game"===n&&e(ce()),e(J())):"game"===t&&("team"===n&&e(Z()),e(oe()),e(be())),"league"===n?(e(F(0)),e(K())):"tournament"===n&&e(X(0)),e(w())},history:a,popout:(o||f||l)&&Object(r.jsx)(Ae.x,{}),modal:g&&Object(r.jsx)(ht,{}),children:[Object(r.jsx)(it,{id:j,cities:s}),Object(r.jsx)(lt,{id:h}),Object(r.jsx)(Be,{id:m}),Object(r.jsx)(Je,{id:b}),Object(r.jsx)(Le,{id:p}),Object(r.jsx)(pt,{id:v})]})})})};u.a.send("VKWebAppInit"),u.a.subscribe((function(e){"VKWebAppUpdateConfig"===e.detail.type&&document.body.setAttribute("scheme",e.detail.data.scheme)})),o.a.render(Object(r.jsx)(d.a,{store:Ie,children:Object(r.jsx)(vt,{})}),document.getElementById("root"))}},[[127,1,2]]]);
//# sourceMappingURL=main.eda1ba6b.chunk.js.map